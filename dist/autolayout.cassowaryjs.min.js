!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.autolayout=e():t.autolayout=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(2),o=r(s),u=n(3),l=r(u),c=n(4),f=r(c),h=n(7),p=r(h),d=n(16),v=r(d),g={Attribute:a["default"],Relation:o["default"],Priority:l["default"],VisualFormat:f["default"],View:p["default"],SubView:v["default"]};e["default"]=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"};e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={LEQ:"leq",EQU:"equ",GEQ:"geq"};e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){t.equalSpacerIndex=t.equalSpacerIndex||1;var n="_~"+t.lineIndex+":"+t.equalSpacerIndex+"~";t.equalSpacerIndex>1&&t.constraints.push({view1:"_~"+t.lineIndex+":1~",attr1:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,relation:t.relation.relation||y["default"].EQU,view2:n,attr2:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,priority:t.relation.priority}),t.equalSpacerIndex++,t.relation.view||t.relation.multiplier&&1!==t.relation.multiplier?(t.constraints.push({view1:n,attr1:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,relation:t.relation.relation||y["default"].EQU,view2:t.relation.view,attr2:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0):t.relation.constant&&(t.constraints.push({view1:n,attr1:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,relation:y["default"].EQU,view2:null,attr2:g["default"].CONST,priority:t.relation.priority,constant:t.relation.constant}),t.relation.constant=void 0);for(var r=0;r<t.prevViews.length;r++){var i=t.prevViews[r];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=i!==e?g["default"].RIGHT:g["default"].LEFT,t.curAttr=g["default"].LEFT;break;case _.VERTICAL:t.prevAttr=i!==e?g["default"].BOTTOM:g["default"].TOP,t.curAttr=g["default"].TOP;break;case _.ZINDEX:t.prevAttr=g["default"].ZINDEX,t.curAttr=g["default"].ZINDEX,t.relation.constant=i!==e?"default":0}t.constraints.push({view1:i,attr1:t.prevAttr,relation:t.relation.relation,view2:n,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[n]}function s(t,e){t.proportionalSpacerIndex=t.proportionalSpacerIndex||1;var n="_-"+t.lineIndex+":"+t.proportionalSpacerIndex+"-";t.proportionalSpacerIndex++,t.constraints.push({view1:n,attr1:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,relation:t.relation.relation||y["default"].EQU,view2:t.relation.view,attr2:t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0;for(var r=0;r<t.prevViews.length;r++){var i=t.prevViews[r];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=i!==e?g["default"].RIGHT:g["default"].LEFT,t.curAttr=g["default"].LEFT;break;case _.VERTICAL:t.prevAttr=i!==e?g["default"].BOTTOM:g["default"].TOP,t.curAttr=g["default"].TOP;break;case _.ZINDEX:t.prevAttr=g["default"].ZINDEX,t.curAttr=g["default"].ZINDEX,t.relation.constant=i!==e?"default":0}t.constraints.push({view1:i,attr1:t.prevAttr,relation:t.relation.relation,view2:n,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[n]}function o(t,e,n){for(var r=void 0,i=1;4>=i;i*=2)if(n.orientations&i&&n.stack.orientation!==i&&!(n.stack.processedOrientations&i)){n.stack.processedOrientations=n.stack.processedOrientations|i,r=r||{name:e,type:"stack"};for(var a=0,s=n.stack.subViews.length;s>a;a++)i===_.ZINDEX?t.constraints.push({view1:r,attr1:g["default"].ZINDEX,relation:y["default"].EQU,view2:n.stack.subViews[a],attr2:g["default"].ZINDEX}):(t.constraints.push({view1:r,attr1:i===_.VERTICAL?g["default"].HEIGHT:g["default"].WIDTH,relation:y["default"].EQU,view2:n.stack.subViews[a],attr2:i===_.VERTICAL?g["default"].HEIGHT:g["default"].WIDTH}),t.constraints.push({view1:r,attr1:i===_.VERTICAL?g["default"].TOP:g["default"].LEFT,relation:y["default"].EQU,view2:n.stack.subViews[a],attr2:i===_.VERTICAL?g["default"].TOP:g["default"].LEFT}))}}function u(t,e){if(e===!0&&(e=t.match(/\.\.\d+$/),e&&(t=t.substring(0,t.length-e[0].length),e=parseInt(e[0].substring(2)))),!e)return[t];var n,r=t.match(/\d+$/),i=[];if(r)for(t=t.substring(0,t.length-r[0].length),n=parseInt(r);e>=n;n++)i.push(t+n);else for(i.push(t),n=2;e>=n;n++)i.push(t+n);return i}function l(t,e,n){var r=n?n.view:null,i=[],c=[],f=void 0;r&&(e.push({view:r}),c.push(r));for(var h=0;h<e.length;h++){var p=e[h];if(!Array.isArray(p)&&p.hasOwnProperty("view")||Array.isArray(p)&&p[0].view&&!p[0].relation)for(var d=Array.isArray(p)?p:[p],v=0;v<d.length;v++){p=d[v];for(var b=","===p?[]:p.view?u(p.view,p.range):[null],y=0;y<b.length;y++){var w=b[y];if(c.push(w),w!==r&&(i.push(w),f=t.subViews[w],f||(f={orientations:0},t.subViews[w]=f),f.orientations=f.orientations|t.orientation,f.stack&&o(t,w,f)),void 0!==t.prevViews&&void 0!==w&&t.relation&&"none"!==t.relation.relation)for(var m=0;m<t.prevViews.length;m++){var A=t.prevViews[m];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=A!==r?g["default"].RIGHT:g["default"].LEFT,t.curAttr=w!==r?g["default"].LEFT:g["default"].RIGHT;break;case _.VERTICAL:t.prevAttr=A!==r?g["default"].BOTTOM:g["default"].TOP,t.curAttr=w!==r?g["default"].TOP:g["default"].BOTTOM;break;case _.ZINDEX:t.prevAttr=g["default"].ZINDEX,t.curAttr=g["default"].ZINDEX,t.relation.constant=A?t.relation.constant||"default":0}t.constraints.push({view1:A,attr1:t.prevAttr,relation:t.relation.relation,view2:w,attr2:t.curAttr,multiplier:t.relation.multiplier,constant:"default"!==t.relation.constant&&t.relation.constant?-t.relation.constant:t.relation.constant,priority:t.relation.priority})}var E=p.constraints;if(E)for(var x=0;x<E.length;x++)t.prevAttr=t.horizontal?g["default"].WIDTH:g["default"].HEIGHT,t.curAttr=E[x].view||E[x].multiplier?E[x].attribute||t.prevAttr:E[x].variable?g["default"].VARIABLE:g["default"].CONST,t.constraints.push({view1:w,attr1:t.prevAttr,relation:E[x].relation,view2:E[x].view,attr2:t.curAttr,multiplier:E[x].multiplier,constant:E[x].constant,priority:E[x].priority});p.cascade&&l(t,p.cascade,p)}}else","!==p&&(t.prevViews=c,c=[],t.relation=p[0],void 0!==t.prevViews&&(t.relation.equalSpacing&&a(t,r),t.relation.multiplier&&s(t,r)))}if(r){if(f=t.subViews[r]){if(f.stack){var V=new Error('A stack named "'+r+'" has already been created');throw V.column=n.$parserOffset+1,V}}else f={orientations:t.orientation},t.subViews[r]=f;f.stack={orientation:t.orientation,processedOrientations:t.orientation,subViews:i},o(t,r,f)}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(5),h=r(f),p=n(6),d=r(p),v=n(1),g=r(v),b=n(2),y=r(b),_={HORIZONTAL:1,VERTICAL:2,ZINDEX:4},w=["viewport","spacing","colors","shapes","widths","heights"],m=function(){function t(){i(this,t)}return c(t,null,[{key:"parseLine",value:function(t,e){if(0===t.length||e&&e.extended&&0===t.indexOf("//"))return[];var n=e&&e.extended?d["default"].parse(t):h["default"].parse(t);if(e&&"raw"===e.outFormat)return[n];var r={constraints:[],lineIndex:(e?e.lineIndex:void 0)||1,subViews:(e?e.subViews:void 0)||{}};if("attribute"===n.type)for(var i=0;i<n.predicates.length;i++)r.constraints.push({view1:n.view,attr1:n.attr,relation:n.predicates[i].relation,view2:n.predicates[i].view,attr2:n.predicates[i].attribute,multiplier:n.predicates[i].multiplier,constant:n.predicates[i].constant,priority:n.predicates[i].priority});else switch(n.orientation){case"horizontal":r.orientation=_.HORIZONTAL,r.horizontal=!0,l(r,n.cascade,null);break;case"vertical":r.orientation=_.VERTICAL,l(r,n.cascade,null);break;case"horzvert":r.orientation=_.HORIZONTAL,r.horizontal=!0,l(r,n.cascade,null),r={constraints:r.constraints,lineIndex:r.lineIndex,subViews:r.subViews,orientation:_.VERTICAL},l(r,n.cascade,null);break;case"zIndex":r.orientation=_.ZINDEX,l(r,n.cascade,null)}return r.constraints}},{key:"parse",value:function(t,e){var n=e&&e.lineSeperator?e.lineSeperator:"\n";if(!Array.isArray(t)&&t.indexOf(n)<0)try{return this.parseLine(t,e)}catch(r){throw r.source=t,r}t=Array.isArray(t)?t:[t];var i=void 0,a=[],s=0,o=void 0,u={lineIndex:s,extended:e&&e.extended,strict:e&&void 0!==e.strict?e.strict:!0,outFormat:e?e.outFormat:void 0,subViews:{}};try{for(var l=0;l<t.length;l++){i=t[l].split(n);for(var c=0;c<i.length;c++)o=i[c],s++,u.lineIndex=s,u.strict||(o=o.trim()),(u.strict||o.length)&&(a=a.concat(this.parseLine(o,u)))}}catch(r){throw r.source=o,r.line=s,r}return a}},{key:"parseMetaInfo",value:function(t,e){var n=e&&e.lineSeperator?e.lineSeperator:"\n",r=e?e.prefix:void 0;t=Array.isArray(t)?t:[t];for(var i,a={},s=0;s<t.length;s++)for(var o=t[s].split(n),l=0;l<o.length;l++)for(var c=o[l],f=0;f<w.length;f++)for(var h=0;(r?2:1)>h;h++){var p=w[f],d=(0===h?"":r)+p;if(0===c.indexOf("//"+d+" "))for(var v=c.substring(3+d.length).split(" "),g=0;g<v.length;g++){a[p]=a[p]||{};for(var b=v[g].split(":"),y=u(b[0],!0),_=0;_<y.length;_++)a[p][y[_]]=b.length>1?b[1]:""}else 0===c.indexOf("//"+d+":")&&(a[p]=c.substring(3+d.length))}if(a.viewport){var m=a.viewport,A=m["aspect-ratio"];A&&(A=A.split("/"),m["aspect-ratio"]=parseInt(A[0])/parseInt(A[1])),void 0!==m.height&&(m.height="intrinsic"===m.height?!0:parseInt(m.height)),void 0!==m.width&&(m.width="intrinsic"===m.width?!0:parseInt(m.width)),void 0!==m["max-height"]&&(m["max-height"]=parseInt(m["max-height"])),void 0!==m["max-width"]&&(m["max-width"]=parseInt(m["max-width"])),void 0!==m["min-height"]&&(m["min-height"]=parseInt(m["min-height"])),void 0!==m["min-width"]&&(m["min-width"]=parseInt(m["min-width"]))}if(a.widths)for(i in a.widths){var E="intrinsic"===a.widths[i]?!0:parseInt(a.widths[i]);a.widths[i]=E,(void 0===E||isNaN(E))&&delete a.widths[i]}if(a.heights)for(i in a.heights){var x="intrinsic"===a.heights[i]?!0:parseInt(a.heights[i]);a.heights[i]=x,(void 0===x||isNaN(x))&&delete a.heights[i]}if(a.spacing){var V=JSON.parse(a.spacing);if(a.spacing=V,Array.isArray(V)){for(var C=0,S=V.length;S>C;C++)if(isNaN(V[C])){delete a.spacing;break}}else(void 0===V||isNaN(V))&&delete a.spacing}return a}}]),t}();e["default"]=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,e,n,r,i,a){this.message=t,this.expected=e,this.found=n,this.offset=r,this.line=i,this.column=a,this.name="SyntaxError"}function n(t){function n(){return Tt}function r(e){function n(e,n,r){var i,a;for(i=n;r>i;i++)a=t.charAt(i),"\n"===a?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return kt!==e&&(kt>e&&(kt=0,Rt={line:1,column:1,seenCR:!1}),n(Rt,kt,e),kt=e),Rt}function i(t){zt>jt||(jt>zt&&(zt=jt,Ht=[]),Ht.push(t))}function a(n,i,a){function s(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,a,s=new Array(t.length);for(a=0;a<t.length;a++)s[a]=t[a].description;return r=t.length>1?s.slice(0,-1).join(", ")+" or "+s[t.length-1]:s[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}var u=r(a),l=a<t.length?t.charAt(a):null;return null!==i&&s(i),new e(null!==n?n:o(i,l),i,l,a,u.line,u.column)}function s(){var e,n,r,a,s,f,h,p;if(e=jt,n=jt,r=o(),r!==x?(58===t.charCodeAt(jt)?(a=O,jt++):(a=x,0===Mt&&i(j)),a!==x?(r=[r,a],n=r):(jt=n,n=S)):(jt=n,n=S),n===x&&(n=I),n!==x)if(r=jt,a=u(),a!==x?(s=c(),s!==x?(a=[a,s],r=a):(jt=r,r=S)):(jt=r,r=S),r===x&&(r=I),r!==x)if(a=l(),a!==x){for(s=[],f=jt,h=c(),h!==x?(p=l(),p!==x?(h=[h,p],f=h):(jt=f,f=S)):(jt=f,f=S);f!==x;)s.push(f),f=jt,h=c(),h!==x?(p=l(),p!==x?(h=[h,p],f=h):(jt=f,f=S)):(jt=f,f=S);s!==x?(f=jt,h=c(),h!==x?(p=u(),p!==x?(h=[h,p],f=h):(jt=f,f=S)):(jt=f,f=S),f===x&&(f=I),f!==x?(Tt=e,n=T(n,r,a,s,f),e=n):(jt=e,e=S)):(jt=e,e=S)}else jt=e,e=S;else jt=e,e=S;else jt=e,e=S;return e}function o(){var e,n;return e=jt,72===t.charCodeAt(jt)?(n=k,jt++):(n=x,0===Mt&&i(R)),n===x&&(86===t.charCodeAt(jt)?(n=z,jt++):(n=x,0===Mt&&i(H))),n!==x&&(Tt=e,n=M(n)),e=n}function u(){var e,n;return e=jt,124===t.charCodeAt(jt)?(n=N,jt++):(n=x,0===Mt&&i(F)),n!==x&&(Tt=e,n=P()),e=n}function l(){var e,n,r,a,s;return e=jt,91===t.charCodeAt(jt)?(n=q,jt++):(n=x,0===Mt&&i(L)),n!==x?(r=_(),r!==x?(a=p(),a===x&&(a=I),a!==x?(93===t.charCodeAt(jt)?(s=D,jt++):(s=x,0===Mt&&i(G)),s!==x?(Tt=e,n=W(r,a),e=n):(jt=e,e=S)):(jt=e,e=S)):(jt=e,e=S)):(jt=e,e=S),e}function c(){var e,n,r,a;return e=jt,45===t.charCodeAt(jt)?(n=Z,jt++):(n=x,0===Mt&&i(X)),n!==x?(r=f(),r!==x?(45===t.charCodeAt(jt)?(a=Z,jt++):(a=x,0===Mt&&i(X)),a!==x?(Tt=e,n=Q(r),e=n):(jt=e,e=S)):(jt=e,e=S)):(jt=e,e=S),e===x&&(e=jt,45===t.charCodeAt(jt)?(n=Z,jt++):(n=x,0===Mt&&i(X)),n!==x&&(Tt=e,n=U()),e=n,e===x&&(e=jt,n=$,n!==x&&(Tt=e,n=B()),e=n)),e}function f(){var t;return t=h(),t===x&&(t=p()),t}function h(){var t,e;return t=jt,e=w(),e!==x&&(Tt=t,e=J(e)),t=e}function p(){var e,n,r,a,s,o,u;if(e=jt,40===t.charCodeAt(jt)?(n=Y,jt++):(n=x,0===Mt&&i(K)),n!==x)if(r=d(),r!==x){for(a=[],s=jt,44===t.charCodeAt(jt)?(o=tt,jt++):(o=x,0===Mt&&i(et)),o!==x?(u=d(),u!==x?(o=[o,u],s=o):(jt=s,s=S)):(jt=s,s=S);s!==x;)a.push(s),s=jt,44===t.charCodeAt(jt)?(o=tt,jt++):(o=x,0===Mt&&i(et)),o!==x?(u=d(),u!==x?(o=[o,u],s=o):(jt=s,s=S)):(jt=s,s=S);a!==x?(41===t.charCodeAt(jt)?(s=nt,jt++):(s=x,0===Mt&&i(rt)),s!==x?(Tt=e,n=it(r,a),e=n):(jt=e,e=S)):(jt=e,e=S)}else jt=e,e=S;else jt=e,e=S;return e}function d(){var e,n,r,a,s,o;return e=jt,n=v(),n===x&&(n=I),n!==x?(r=g(),r!==x?(a=jt,64===t.charCodeAt(jt)?(s=at,jt++):(s=x,0===Mt&&i(st)),s!==x?(o=b(),o!==x?(s=[s,o],a=s):(jt=a,a=S)):(jt=a,a=S),a===x&&(a=I),a!==x?(Tt=e,n=ot(n,r,a),e=n):(jt=e,e=S)):(jt=e,e=S)):(jt=e,e=S),e}function v(){var e,n;return e=jt,t.substr(jt,2)===ut?(n=ut,jt+=2):(n=x,0===Mt&&i(lt)),n!==x&&(Tt=e,n=ct()),e=n,e===x&&(e=jt,t.substr(jt,2)===ft?(n=ft,jt+=2):(n=x,0===Mt&&i(ht)),n!==x&&(Tt=e,n=pt()),e=n,e===x&&(e=jt,t.substr(jt,2)===dt?(n=dt,jt+=2):(n=x,0===Mt&&i(vt)),n!==x&&(Tt=e,n=gt()),e=n)),e}function g(){var t;return t=y(),t===x&&(t=_()),t}function b(){var e,n,r;if(e=jt,n=[],bt.test(t.charAt(jt))?(r=t.charAt(jt),jt++):(r=x,0===Mt&&i(yt)),r!==x)for(;r!==x;)n.push(r),bt.test(t.charAt(jt))?(r=t.charAt(jt),jt++):(r=x,0===Mt&&i(yt));else n=S;return n!==x&&(Tt=e,n=_t(n)),e=n}function y(){var t,e;return t=jt,e=w(),e!==x&&(Tt=t,e=wt(e)),t=e}function _(){var e,n,r,a,s;if(e=jt,n=jt,r=[],mt.test(t.charAt(jt))?(a=t.charAt(jt),jt++):(a=x,0===Mt&&i(At)),a!==x)for(;a!==x;)r.push(a),mt.test(t.charAt(jt))?(a=t.charAt(jt),jt++):(a=x,0===Mt&&i(At));else r=S;if(r!==x&&(r=t.substring(n,jt)),n=r,n!==x){for(r=jt,a=[],Et.test(t.charAt(jt))?(s=t.charAt(jt),jt++):(s=x,0===Mt&&i(xt));s!==x;)a.push(s),Et.test(t.charAt(jt))?(s=t.charAt(jt),jt++):(s=x,0===Mt&&i(xt));a!==x&&(a=t.substring(r,jt)),r=a,r!==x?(Tt=e,n=Vt(n,r),e=n):(jt=e,e=S)}else jt=e,e=S;return e}function w(){var e,n,r,a,s;if(e=jt,n=[],bt.test(t.charAt(jt))?(r=t.charAt(jt),jt++):(r=x,0===Mt&&i(yt)),r!==x)for(;r!==x;)n.push(r),bt.test(t.charAt(jt))?(r=t.charAt(jt),jt++):(r=x,0===Mt&&i(yt));else n=S;if(n!==x)if(46===t.charCodeAt(jt)?(r=Ct,jt++):(r=x,0===Mt&&i(St)),r!==x){if(a=[],bt.test(t.charAt(jt))?(s=t.charAt(jt),jt++):(s=x,0===Mt&&i(yt)),s!==x)for(;s!==x;)a.push(s),bt.test(t.charAt(jt))?(s=t.charAt(jt),jt++):(s=x,0===Mt&&i(yt));else a=S;a!==x?(Tt=e,n=It(n,a),e=n):(jt=e,e=S)}else jt=e,e=S;else jt=e,e=S;if(e===x){if(e=jt,n=[],bt.test(t.charAt(jt))?(r=t.charAt(jt),jt++):(r=x,0===Mt&&i(yt)),r!==x)for(;r!==x;)n.push(r),bt.test(t.charAt(jt))?(r=t.charAt(jt),jt++):(r=x,0===Mt&&i(yt));else n=S;n!==x&&(Tt=e,n=Ot(n)),e=n}return e}function m(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}var A,E=arguments.length>1?arguments[1]:{},x={},V={visualFormatString:s},C=s,S=x,I=null,O=":",j={type:"literal",value:":",description:'":"'},T=function(t,e,n,r,i){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat([n],[].concat.apply([],r),i||[])}},k="H",R={type:"literal",value:"H",description:'"H"'},z="V",H={type:"literal",value:"V",description:'"V"'},M=function(t){return"H"==t?"horizontal":"vertical"},N="|",F={type:"literal",value:"|",description:'"|"'},P=function(){return{view:null}},q="[",L={type:"literal",value:"[",description:'"["'},D="]",G={type:"literal",value:"]",description:'"]"'},W=function(t,e){return m(t,e?{constraints:e}:{})},Z="-",X={type:"literal",value:"-",description:'"-"'},Q=function(t){return t},U=function(){return[{relation:"equ",constant:"default",$parserOffset:n()}]},$="",B=function(){return[{relation:"equ",constant:0,$parserOffset:n()}]},J=function(t){return[{relation:"equ",constant:t,$parserOffset:n()}]},Y="(",K={type:"literal",value:"(",description:'"("'},tt=",",et={type:"literal",value:",",description:'","'},nt=")",rt={type:"literal",value:")",description:'")"'},it=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},at="@",st={type:"literal",value:"@",description:'"@"'},ot=function(t,e,n){return m({relation:"equ"},t||{},e,n?n[1]:{})},ut="==",lt={type:"literal",value:"==",description:'"=="'},ct=function(){return{relation:"equ",$parserOffset:n()}},ft="<=",ht={type:"literal",value:"<=",description:'"<="'},pt=function(){return{relation:"leq",$parserOffset:n()}},dt=">=",vt={type:"literal",value:">=",description:'">="'},gt=function(){return{relation:"geq",$parserOffset:n()}},bt=/^[0-9]/,yt={type:"class",value:"[0-9]",description:"[0-9]"},_t=function(t){return{priority:parseInt(t.join(""),10)}},wt=function(t){return{constant:t}},mt=/^[a-zA-Z_]/,At={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},Et=/^[a-zA-Z0-9_]/,xt={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Vt=function(t,e){return{view:t+e}},Ct=".",St={type:"literal",value:".",description:'"."'},It=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},Ot=function(t){return parseInt(t.join(""),10)},jt=0,Tt=0,kt=0,Rt={line:1,column:1,seenCR:!1},zt=0,Ht=[],Mt=0;if("startRule"in E){if(!(E.startRule in V))throw new Error("Can't start parsing from rule \""+E.startRule+'".');C=V[E.startRule]}if(A=C(),A!==x&&jt===t.length)return A;throw A!==x&&jt<t.length&&i({type:"end",description:"end of input"}),a(null,Ht,zt)}return t(e,Error),{SyntaxError:e,parse:n}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,e,n,r,i,a){this.message=t,this.expected=e,this.found=n,this.offset=r,this.line=i,this.column=a,this.name="SyntaxError"}function n(t){function n(){return _n}function r(e){function n(e,n,r){var i,a;for(i=n;r>i;i++)a=t.charAt(i),"\n"===a?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return wn!==e&&(wn>e&&(wn=0,mn={line:1,column:1,seenCR:!1}),n(mn,wn,e),wn=e),mn}function i(t){An>yn||(yn>An&&(An=yn,En=[]),En.push(t))}function a(n,i,a){function s(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,a,s=new Array(t.length);for(a=0;a<t.length;a++)s[a]=t[a].description;return r=t.length>1?s.slice(0,-1).join(", ")+" or "+s[t.length-1]:s[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}var u=r(a),l=a<t.length?t.charAt(a):null;return null!==i&&s(i),new e(null!==n?n:o(i,l),i,l,a,u.line,u.column)}function s(){var t;return t=c(),t===q&&(t=o()),t}function o(){var t,e,n,r,i;return t=yn,e=u(),e!==q?(n=l(),n!==q?(r=y(),r!==q?(i=h(),i===q&&(i=W),i!==q?(_n=t,e=Z(n,r,i),t=e):(yn=t,t=G)):(yn=t,t=G)):(yn=t,t=G)):(yn=t,t=G),t}function u(){var e,n;return e=yn,t.substr(yn,2)===X?(n=X,yn+=2):(n=q,0===xn&&i(Q)),n!==q&&(_n=e,n=U()),e=n}function l(){var t,e,n;return t=yn,e=z(),e!==q?(n=j(),n!==q?(_n=t,e=$(e,n),t=e):(yn=t,t=G)):(yn=t,t=G),t}function c(){var e,n,r,a,s,o,u,l;if(e=yn,n=yn,r=f(),r!==q?(58===t.charCodeAt(yn)?(a=B,yn++):(a=q,0===xn&&i(J)),a!==q?(r=[r,a],n=r):(yn=n,n=G)):(yn=n,n=G),n===q&&(n=W),n!==q)if(r=yn,a=p(),a!==q?(s=b(),s!==q?(a=[a,s],r=a):(yn=r,r=G)):(yn=r,r=G),r===q&&(r=W),r!==q)if(a=d(),a!==q){for(s=[],o=yn,u=b(),u!==q?(l=d(),l!==q?(u=[u,l],o=u):(yn=o,o=G)):(yn=o,o=G);o!==q;)s.push(o),o=yn,u=b(),u!==q?(l=d(),l!==q?(u=[u,l],o=u):(yn=o,o=G)):(yn=o,o=G);s!==q?(o=yn,u=b(),u!==q?(l=p(),l!==q?(u=[u,l],o=u):(yn=o,o=G)):(yn=o,o=G),o===q&&(o=W),o!==q?(u=h(),u===q&&(u=W),u!==q?(_n=e,n=Y(n,r,a,s,o,u),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G)}else yn=e,e=G;else yn=e,e=G;else yn=e,e=G;return e}function f(){var e,n;return e=yn,t.substr(yn,2)===K?(n=K,yn+=2):(n=q,0===xn&&i(tt)),n!==q&&(_n=e,n=et()),e=n,e===q&&(e=yn,72===t.charCodeAt(yn)?(n=nt,yn++):(n=q,0===xn&&i(rt)),n!==q&&(_n=e,n=it()),e=n,e===q&&(e=yn,86===t.charCodeAt(yn)?(n=at,yn++):(n=q,0===xn&&i(st)),n!==q&&(_n=e,n=ot()),e=n,e===q&&(e=yn,90===t.charCodeAt(yn)?(n=ut,yn++):(n=q,0===xn&&i(lt)),n!==q&&(_n=e,n=ct()),e=n))),e}function h(){var e,n,r,a,s;for(e=yn,n=[],32===t.charCodeAt(yn)?(r=ft,yn++):(r=q,0===xn&&i(ht));r!==q;)n.push(r),32===t.charCodeAt(yn)?(r=ft,yn++):(r=q,0===xn&&i(ht));if(n!==q)if(t.substr(yn,2)===pt?(r=pt,yn+=2):(r=q,0===xn&&i(dt)),r!==q){for(a=[],t.length>yn?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(vt));s!==q;)a.push(s),t.length>yn?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(vt));a!==q?(n=[n,r,a],e=n):(yn=e,e=G)}else yn=e,e=G;else yn=e,e=G;return e}function p(){var e,n;return e=yn,124===t.charCodeAt(yn)?(n=gt,yn++):(n=q,0===xn&&i(bt)),n!==q&&(_n=e,n=yt()),e=n}function d(){var e,n,r,a,s,o,u;if(e=yn,91===t.charCodeAt(yn)?(n=_t,yn++):(n=q,0===xn&&i(wt)),n!==q)if(r=v(),r!==q){for(a=[],s=yn,44===t.charCodeAt(yn)?(o=mt,yn++):(o=q,0===xn&&i(At)),o!==q?(u=v(),u!==q?(o=[o,u],s=o):(yn=s,s=G)):(yn=s,s=G);s!==q;)a.push(s),s=yn,44===t.charCodeAt(yn)?(o=mt,yn++):(o=q,0===xn&&i(At)),o!==q?(u=v(),u!==q?(o=[o,u],s=o):(yn=s,s=G)):(yn=s,s=G);a!==q?(93===t.charCodeAt(yn)?(s=Et,yn++):(s=q,0===xn&&i(xt)),s!==q?(_n=e,n=Vt(r,a),e=n):(yn=e,e=G)):(yn=e,e=G)}else yn=e,e=G;else yn=e,e=G;return e}function v(){var t,e,n,r;return t=yn,e=R(),e!==q?(n=w(),n===q&&(n=W),n!==q?(r=g(),r===q&&(r=W),r!==q?(_n=t,e=Ct(e,n,r),t=e):(yn=t,t=G)):(yn=t,t=G)):(yn=t,t=G),t}function g(){var e,n,r,a,s,o;if(e=yn,58===t.charCodeAt(yn)?(n=B,yn++):(n=q,0===xn&&i(J)),n!==q){if(r=[],a=yn,s=b(),s!==q?(o=d(),o!==q?(s=[s,o],a=s):(yn=a,a=G)):(yn=a,a=G),a!==q)for(;a!==q;)r.push(a),a=yn,s=b(),s!==q?(o=d(),o!==q?(s=[s,o],a=s):(yn=a,a=G)):(yn=a,a=G);else r=G;r!==q?(a=b(),a!==q?(_n=e,n=St(r,a),e=n):(yn=e,e=G)):(yn=e,e=G)}else yn=e,e=G;return e}function b(){var e,n,r,a;return e=yn,t.substr(yn,2)===It?(n=It,yn+=2):(n=q,0===xn&&i(Ot)),n!==q&&(_n=e,n=jt()),e=n,e===q&&(e=yn,45===t.charCodeAt(yn)?(n=Tt,yn++):(n=q,0===xn&&i(kt)),n!==q?(r=y(),r!==q?(45===t.charCodeAt(yn)?(a=Tt,yn++):(a=q,0===xn&&i(kt)),a!==q?(_n=e,n=Rt(r),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,45===t.charCodeAt(yn)?(n=Tt,yn++):(n=q,0===xn&&i(kt)),n!==q&&(_n=e,n=zt()),e=n,e===q&&(e=yn,126===t.charCodeAt(yn)?(n=Ht,yn++):(n=q,0===xn&&i(Mt)),n!==q?(r=A(),r!==q?(126===t.charCodeAt(yn)?(a=Ht,yn++):(a=q,0===xn&&i(Mt)),a!==q?(_n=e,n=Rt(r),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,126===t.charCodeAt(yn)?(n=Ht,yn++):(n=q,0===xn&&i(Mt)),n!==q&&(_n=e,n=Nt()),e=n,e===q&&(e=yn,n=Ft,n!==q&&(_n=e,n=Pt()),e=n))))),e}function y(){var t;return t=_(),t===q&&(t=w()),t}function _(){var t,e;return t=yn,e=I(),e!==q&&(_n=t,e=qt(e)),t=e,t===q&&(t=yn,e=M(),e!==q&&(_n=t,e=Lt(e)),t=e),t}function w(){var e,n,r,a,s,o,u;if(e=yn,40===t.charCodeAt(yn)?(n=Dt,yn++):(n=q,0===xn&&i(Gt)),n!==q)if(r=m(),r!==q){for(a=[],s=yn,44===t.charCodeAt(yn)?(o=mt,yn++):(o=q,0===xn&&i(At)),o!==q?(u=m(),u!==q?(o=[o,u],s=o):(yn=s,s=G)):(yn=s,s=G);s!==q;)a.push(s),s=yn,44===t.charCodeAt(yn)?(o=mt,yn++):(o=q,0===xn&&i(At)),o!==q?(u=m(),u!==q?(o=[o,u],s=o):(yn=s,s=G)):(yn=s,s=G);a!==q?(41===t.charCodeAt(yn)?(s=Wt,yn++):(s=q,0===xn&&i(Zt)),s!==q?(_n=e,n=Xt(r,a),e=n):(yn=e,e=G)):(yn=e,e=G)}else yn=e,e=G;else yn=e,e=G;return e}function m(){var e,n,r,a,s,o;return e=yn,n=x(),n===q&&(n=W),n!==q?(r=V(),r!==q?(a=yn,64===t.charCodeAt(yn)?(s=Qt,yn++):(s=q,0===xn&&i(Ut)),s!==q?(o=C(),o!==q?(s=[s,o],a=s):(yn=a,a=G)):(yn=a,a=G),a===q&&(a=W),a!==q?(_n=e,n=$t(n,r,a),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G),e}function A(){var e,n,r,a,s,o,u;if(e=yn,40===t.charCodeAt(yn)?(n=Dt,yn++):(n=q,0===xn&&i(Gt)),n!==q)if(r=E(),r!==q){for(a=[],s=yn,44===t.charCodeAt(yn)?(o=mt,yn++):(o=q,0===xn&&i(At)),o!==q?(u=E(),u!==q?(o=[o,u],s=o):(yn=s,s=G)):(yn=s,s=G);s!==q;)a.push(s),s=yn,44===t.charCodeAt(yn)?(o=mt,yn++):(o=q,0===xn&&i(At)),o!==q?(u=E(),u!==q?(o=[o,u],s=o):(yn=s,s=G)):(yn=s,s=G);a!==q?(41===t.charCodeAt(yn)?(s=Wt,yn++):(s=q,0===xn&&i(Zt)),s!==q?(_n=e,n=Xt(r,a),e=n):(yn=e,e=G)):(yn=e,e=G)}else yn=e,e=G;else yn=e,e=G;return e}function E(){var e,n,r,a,s,o;return e=yn,n=x(),n===q&&(n=W),n!==q?(r=V(),r!==q?(a=yn,64===t.charCodeAt(yn)?(s=Qt,yn++):(s=q,0===xn&&i(Ut)),s!==q?(o=C(),o!==q?(s=[s,o],a=s):(yn=a,a=G)):(yn=a,a=G),a===q&&(a=W),a!==q?(_n=e,n=Bt(n,r,a),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G),e}function x(){var e,n;return e=yn,t.substr(yn,2)===Jt?(n=Jt,yn+=2):(n=q,0===xn&&i(Yt)),n!==q&&(_n=e,n=Kt()),e=n,e===q&&(e=yn,t.substr(yn,2)===te?(n=te,yn+=2):(n=q,0===xn&&i(ee)),n!==q&&(_n=e,n=ne()),e=n,e===q&&(e=yn,t.substr(yn,2)===re?(n=re,yn+=2):(n=q,0===xn&&i(ie)),n!==q&&(_n=e,n=ae()),e=n)),e}function V(){var t;return t=I(),t===q&&(t=S(),t===q&&(t=O())),t}function C(){var e,n,r;if(e=yn,n=[],se.test(t.charAt(yn))?(r=t.charAt(yn),yn++):(r=q,0===xn&&i(oe)),r!==q)for(;r!==q;)n.push(r),se.test(t.charAt(yn))?(r=t.charAt(yn),yn++):(r=q,0===xn&&i(oe));else n=G;return n!==q&&(_n=e,n=ue(n)),e=n}function S(){var e,n,r;return e=yn,n=M(),n!==q&&(_n=e,n=le(n)),e=n,e===q&&(e=yn,45===t.charCodeAt(yn)?(n=Tt,yn++):(n=q,0===xn&&i(kt)),n!==q?(r=M(),r!==q?(_n=e,n=ce(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,43===t.charCodeAt(yn)?(n=fe,yn++):(n=q,0===xn&&i(he)),n!==q?(r=M(),r!==q?(_n=e,n=le(r),e=n):(yn=e,e=G)):(yn=e,e=G))),e}function I(){var e,n,r,a;return e=yn,n=M(),n!==q?(37===t.charCodeAt(yn)?(r=pe,yn++):(r=q,0===xn&&i(de)),r!==q?(_n=e,n=ve(n),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,45===t.charCodeAt(yn)?(n=Tt,yn++):(n=q,0===xn&&i(kt)),n!==q?(r=M(),r!==q?(37===t.charCodeAt(yn)?(a=pe,yn++):(a=q,0===xn&&i(de)),a!==q?(_n=e,n=ge(r),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,43===t.charCodeAt(yn)?(n=fe,yn++):(n=q,0===xn&&i(he)),n!==q?(r=M(),r!==q?(37===t.charCodeAt(yn)?(a=pe,yn++):(a=q,0===xn&&i(de)),a!==q?(_n=e,n=ve(r),e=n):(yn=e,e=G)):(yn=e,e=G)):(yn=e,e=G))),e}function O(){var t,e,n,r,i;return t=yn,e=z(),e!==q?(n=j(),n===q&&(n=W),n!==q?(r=T(),r===q&&(r=W),r!==q?(i=k(),i===q&&(i=W),i!==q?(_n=t,e=be(e,n,r,i),t=e):(yn=t,t=G)):(yn=t,t=G)):(yn=t,t=G)):(yn=t,t=G),t}function j(){var e,n;return e=yn,t.substr(yn,5)===ye?(n=ye,yn+=5):(n=q,0===xn&&i(_e)),n!==q&&(_n=e,n=we()),e=n,e===q&&(e=yn,t.substr(yn,6)===me?(n=me,yn+=6):(n=q,0===xn&&i(Ae)),n!==q&&(_n=e,n=Ee()),e=n,e===q&&(e=yn,t.substr(yn,4)===xe?(n=xe,yn+=4):(n=q,0===xn&&i(Ve)),n!==q&&(_n=e,n=Ce()),e=n,e===q&&(e=yn,t.substr(yn,7)===Se?(n=Se,yn+=7):(n=q,0===xn&&i(Ie)),n!==q&&(_n=e,n=Oe()),e=n,e===q&&(e=yn,t.substr(yn,6)===je?(n=je,yn+=6):(n=q,0===xn&&i(Te)),n!==q&&(_n=e,n=ke()),e=n,e===q&&(e=yn,t.substr(yn,7)===Re?(n=Re,yn+=7):(n=q,0===xn&&i(ze)),n!==q&&(_n=e,n=He()),e=n,e===q&&(e=yn,t.substr(yn,8)===Me?(n=Me,yn+=8):(n=q,0===xn&&i(Ne)),n!==q&&(_n=e,n=Fe()),e=n,e===q&&(e=yn,t.substr(yn,8)===Pe?(n=Pe,yn+=8):(n=q,0===xn&&i(qe)),n!==q&&(_n=e,n=Le()),e=n))))))),e}function T(){var e,n,r;return e=yn,47===t.charCodeAt(yn)?(n=De,yn++):(n=q,0===xn&&i(Ge)),n!==q?(r=M(),r!==q?(_n=e,n=We(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,t.substr(yn,2)===Ze?(n=Ze,yn+=2):(n=q,0===xn&&i(Xe)),n!==q?(r=M(),r!==q?(_n=e,n=We(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,t.substr(yn,2)===Qe?(n=Qe,yn+=2):(n=q,0===xn&&i(Ue)),n!==q?(r=M(),r!==q?(_n=e,n=$e(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,42===t.charCodeAt(yn)?(n=Be,yn++):(n=q,0===xn&&i(Je)),n!==q?(r=M(),r!==q?(_n=e,n=Ye(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,t.substr(yn,2)===Ke?(n=Ke,yn+=2):(n=q,0===xn&&i(tn)),n!==q?(r=M(),r!==q?(_n=e,n=Ye(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,t.substr(yn,2)===en?(n=en,yn+=2):(n=q,0===xn&&i(nn)),n!==q?(r=M(),r!==q?(_n=e,n=rn(r),e=n):(yn=e,e=G)):(yn=e,e=G)))))),e}function k(){var e,n,r;return e=yn,45===t.charCodeAt(yn)?(n=Tt,yn++):(n=q,0===xn&&i(kt)),n!==q?(r=M(),r!==q?(_n=e,n=rn(r),e=n):(yn=e,e=G)):(yn=e,e=G),e===q&&(e=yn,43===t.charCodeAt(yn)?(n=fe,yn++):(n=q,0===xn&&i(he)),n!==q?(r=M(),r!==q?(_n=e,n=Ye(r),e=n):(yn=e,e=G)):(yn=e,e=G)),e}function R(){var e,n,r,a,s;if(e=yn,n=yn,r=[],an.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(sn)),a!==q)for(;a!==q;)r.push(a),an.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(sn));else r=G;if(r!==q&&(r=t.substring(n,yn)),n=r,n!==q){for(r=yn,a=[],on.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(un));s!==q;)a.push(s),on.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(un));a!==q&&(a=t.substring(r,yn)),r=a,r!==q?(a=H(),a!==q?(_n=e,n=ln(n,r,a),e=n):(yn=e,e=G)):(yn=e,e=G)}else yn=e,e=G;if(e===q){if(e=yn,n=yn,r=[],an.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(sn)),a!==q)for(;a!==q;)r.push(a),an.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(sn));else r=G;if(r!==q&&(r=t.substring(n,yn)),n=r,n!==q){for(r=yn,a=[],on.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(un));s!==q;)a.push(s),on.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(un));a!==q&&(a=t.substring(r,yn)),r=a,r!==q?(_n=e,n=cn(n,r),e=n):(yn=e,e=G)}else yn=e,e=G}return e}function z(){var e,n,r,a,s;if(e=yn,n=yn,r=[],an.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(sn)),a!==q)for(;a!==q;)r.push(a),an.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(sn));else r=G;if(r!==q&&(r=t.substring(n,yn)),n=r,n!==q){for(r=yn,a=[],on.test(t.charAt(yn))?(s=t.charAt(yn),
yn++):(s=q,0===xn&&i(un));s!==q;)a.push(s),on.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(un));a!==q&&(a=t.substring(r,yn)),r=a,r!==q?(_n=e,n=cn(n,r),e=n):(yn=e,e=G)}else yn=e,e=G;return e}function H(){var e,n,r,a;if(e=yn,t.substr(yn,2)===fn?(n=fn,yn+=2):(n=q,0===xn&&i(hn)),n!==q){if(r=[],se.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(oe)),a!==q)for(;a!==q;)r.push(a),se.test(t.charAt(yn))?(a=t.charAt(yn),yn++):(a=q,0===xn&&i(oe));else r=G;r!==q?(_n=e,n=pn(r),e=n):(yn=e,e=G)}else yn=e,e=G;return e}function M(){var e,n,r,a,s;if(e=yn,n=[],se.test(t.charAt(yn))?(r=t.charAt(yn),yn++):(r=q,0===xn&&i(oe)),r!==q)for(;r!==q;)n.push(r),se.test(t.charAt(yn))?(r=t.charAt(yn),yn++):(r=q,0===xn&&i(oe));else n=G;if(n!==q)if(46===t.charCodeAt(yn)?(r=dn,yn++):(r=q,0===xn&&i(vn)),r!==q){if(a=[],se.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(oe)),s!==q)for(;s!==q;)a.push(s),se.test(t.charAt(yn))?(s=t.charAt(yn),yn++):(s=q,0===xn&&i(oe));else a=G;a!==q?(_n=e,n=gn(n,a),e=n):(yn=e,e=G)}else yn=e,e=G;else yn=e,e=G;if(e===q){if(e=yn,n=[],se.test(t.charAt(yn))?(r=t.charAt(yn),yn++):(r=q,0===xn&&i(oe)),r!==q)for(;r!==q;)n.push(r),se.test(t.charAt(yn))?(r=t.charAt(yn),yn++):(r=q,0===xn&&i(oe));else n=G;n!==q&&(_n=e,n=bn(n)),e=n}return e}function N(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}var F,P=arguments.length>1?arguments[1]:{},q={},L={visualFormatStringExt:s},D=s,G=q,W=null,Z=function(t,e,n){return{type:"attribute",view:t.view,attr:t.attr,predicates:e}},X="A:",Q={type:"literal",value:"A:",description:'"A:"'},U=function(){return"attribute"},$=function(t,e){return{view:t.view,attr:e}},B=":",J={type:"literal",value:":",description:'":"'},Y=function(t,e,n,r,i,a){return{type:"vfl",orientation:t?t[0]:"horizontal",cascade:(e||[]).concat(n,[].concat.apply([],r),i||[])}},K="HV",tt={type:"literal",value:"HV",description:'"HV"'},et=function(){return"horzvert"},nt="H",rt={type:"literal",value:"H",description:'"H"'},it=function(){return"horizontal"},at="V",st={type:"literal",value:"V",description:'"V"'},ot=function(){return"vertical"},ut="Z",lt={type:"literal",value:"Z",description:'"Z"'},ct=function(){return"zIndex"},ft=" ",ht={type:"literal",value:" ",description:'" "'},pt="//",dt={type:"literal",value:"//",description:'"//"'},vt={type:"any",description:"any character"},gt="|",bt={type:"literal",value:"|",description:'"|"'},yt=function(){return{view:null}},_t="[",wt={type:"literal",value:"[",description:'"["'},mt=",",At={type:"literal",value:",",description:'","'},Et="]",xt={type:"literal",value:"]",description:'"]"'},Vt=function(t,e){return e.length?[t].concat([].concat.apply([],e)):t},Ct=function(t,e,n){return N(N(t,e?{constraints:e}:{}),n?{cascade:n}:{})},St=function(t,e){return[].concat([].concat.apply([],t),[e])},It="->",Ot={type:"literal",value:"->",description:'"->"'},jt=function(){return[{relation:"none"}]},Tt="-",kt={type:"literal",value:"-",description:'"-"'},Rt=function(t){return t},zt=function(){return[{relation:"equ",constant:"default"}]},Ht="~",Mt={type:"literal",value:"~",description:'"~"'},Nt=function(){return[{relation:"equ",equalSpacing:!0}]},Ft="",Pt=function(){return[{relation:"equ",constant:0}]},qt=function(t){return[{relation:"equ",multiplier:t.multiplier}]},Lt=function(t){return[{relation:"equ",constant:t}]},Dt="(",Gt={type:"literal",value:"(",description:'"("'},Wt=")",Zt={type:"literal",value:")",description:'")"'},Xt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},Qt="@",Ut={type:"literal",value:"@",description:'"@"'},$t=function(t,e,n){return N({relation:"equ"},t||{},e,n?n[1]:{})},Bt=function(t,e,n){return N({relation:"equ",equalSpacing:!0},t||{},e,n?n[1]:{})},Jt="==",Yt={type:"literal",value:"==",description:'"=="'},Kt=function(){return{relation:"equ"}},te="<=",ee={type:"literal",value:"<=",description:'"<="'},ne=function(){return{relation:"leq"}},re=">=",ie={type:"literal",value:">=",description:'">="'},ae=function(){return{relation:"geq"}},se=/^[0-9]/,oe={type:"class",value:"[0-9]",description:"[0-9]"},ue=function(t){return{priority:parseInt(t.join(""),10)}},le=function(t){return{constant:t}},ce=function(t){return{constant:-t}},fe="+",he={type:"literal",value:"+",description:'"+"'},pe="%",de={type:"literal",value:"%",description:'"%"'},ve=function(t){return{view:null,multiplier:t/100}},ge=function(t){return{view:null,multiplier:t/-100}},be=function(t,e,n,r){return{view:t.view,attribute:e?e:void 0,multiplier:n?n:1,constant:r?r:void 0}},ye=".left",_e={type:"literal",value:".left",description:'".left"'},we=function(){return"left"},me=".right",Ae={type:"literal",value:".right",description:'".right"'},Ee=function(){return"right"},xe=".top",Ve={type:"literal",value:".top",description:'".top"'},Ce=function(){return"top"},Se=".bottom",Ie={type:"literal",value:".bottom",description:'".bottom"'},Oe=function(){return"bottom"},je=".width",Te={type:"literal",value:".width",description:'".width"'},ke=function(){return"width"},Re=".height",ze={type:"literal",value:".height",description:'".height"'},He=function(){return"height"},Me=".centerX",Ne={type:"literal",value:".centerX",description:'".centerX"'},Fe=function(){return"centerX"},Pe=".centerY",qe={type:"literal",value:".centerY",description:'".centerY"'},Le=function(){return"centerY"},De="/",Ge={type:"literal",value:"/",description:'"/"'},We=function(t){return 1/t},Ze="/+",Xe={type:"literal",value:"/+",description:'"/+"'},Qe="/-",Ue={type:"literal",value:"/-",description:'"/-"'},$e=function(t){return-1/t},Be="*",Je={type:"literal",value:"*",description:'"*"'},Ye=function(t){return t},Ke="*+",tn={type:"literal",value:"*+",description:'"*+"'},en="*-",nn={type:"literal",value:"*-",description:'"*-"'},rn=function(t){return-t},an=/^[a-zA-Z_]/,sn={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},on=/^[a-zA-Z0-9_]/,un={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},ln=function(t,e,r){return{view:t+e,range:r,$parserOffset:n()}},cn=function(t,e){return{view:t+e,$parserOffset:n()}},fn="..",hn={type:"literal",value:"..",description:'".."'},pn=function(t){return parseInt(t)},dn=".",vn={type:"literal",value:".",description:'"."'},gn=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},bn=function(t){return parseInt(t.join(""),10)},yn=0,_n=0,wn=0,mn={line:1,column:1,seenCR:!1},An=0,En=[],xn=0;if("startRule"in P){if(!(P.startRule in L))throw new Error("Can't start parsing from rule \""+P.startRule+'".');D=L[P.startRule]}if(F=D(),F!==q&&yn===t.length)return F;throw F!==q&&yn<t.length&&i({type:"end",description:"end of input"}),a(null,En,An)}return t(e,Error),{SyntaxError:e,parse:n}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var n=new b["default"].Variable({value:e});return this._solver.addConstraint(new b["default"].StayConstraint(n,b["default"].Strength.required,0)),n}function s(t){return t?t.name?(this._subViews[t.name]=this._subViews[t.name]||new E["default"]({name:t.name,solver:this._solver}),this._subViews[t.name]._type=this._subViews[t.name]._type||t.type,this._subViews[t.name]):(this._subViews[t]=this._subViews[t]||new E["default"]({name:t,solver:this._solver}),this._subViews[t]):this._parentSubView}function o(t){var e=4;if(t.view1||"left"!==t.attr1)if(t.view1||"top"!==t.attr1)if(t.view2||"right"!==t.attr2)if(t.view2||"bottom"!==t.attr2)switch(t.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":e=4;break;case"zIndex":e=6;break;default:e=5}else e=2;else e=1;else e=0;else e=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[e]||(this._spacingVars[e]=new b["default"].Variable,this._solver.addEditVar(this._spacingVars[e]),this._spacingExpr[e]=b["default"].minus(0,this._spacingVars[e]),this._solver.suggestValue(this._spacingVars[e],this._spacing[e])),this._spacingExpr[e]}function u(t,e){return t.view1===e.view1&&t.attr1===e.attr1&&t.relation===e.relation&&t.view2===e.view2&&t.attr2===e.attr2&&t.multiplier===e.multiplier&&t.constant===e.constant&&t.priority===e.priority}function l(t){var e=void 0,n=void 0!==t.multiplier?t.multiplier:1,r=void 0!==t.constant?t.constant:0;"default"===r&&(r=o.call(this,t));var i=s.call(this,t.view1)._getAttr(t.attr1),u=void 0;t.attr2===_["default"].CONST?u=a.call(this,void 0,t.constant):(u=s.call(this,t.view2)._getAttr(t.attr2),1!==n&&r?u=b["default"].plus(b["default"].times(u,n),r):r?u=b["default"].plus(u,r):1!==n&&(u=b["default"].times(u,n)));var l=void 0!==t.priority&&t.priority<1e3?new b["default"].Strength("priority",0,t.priority,1e3):x;switch(t.relation){case m["default"].EQU:e=new b["default"].Equation(i,u,l);break;case m["default"].GEQ:e=new b["default"].Inequality(i,b["default"].GEQ,u,l);break;case m["default"].LEQ:e=new b["default"].Inequality(i,b["default"].LEQ,u,l);break;default:throw"Invalid relation specified: "+t.relation}return e}function c(t){var e=l.call(this,t);this._constraints.push({constraint:t,relation:e}),this._solver.addConstraint(e)}function f(t){var e=(0,v["default"])(this._constraints,function(e){return u(e.constraint,t)});this._constraints.splice(this._constraints.indexOf(e),1),this._solver.removeConstraint(e.relation)}function h(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var n=0;7>n;n++)if(t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=n(8),v=r(d),g=n(15),b=r(g),y=n(1),_=r(y),w=n(2),m=r(w),A=n(16),E=r(A),x=new b["default"].Strength("defaultPriority",0,1e3,1e3),V=function(){function t(e){i(this,t),this._solver=new b["default"].SimplexSolver,this._subViews={},this._constraints=[],this._parentSubView=new E["default"]({solver:this._solver}),this.setSpacing(e&&void 0!==e.spacing?e.spacing:8),e&&(void 0===e.width&&void 0===e.height||this.setSize(e.width,e.height),e.constraints&&this.addConstraints(e.constraints))}return p(t,[{key:"setSize",value:function(t,e){return this._parentSubView.intrinsicWidth=t,this._parentSubView.intrinsicHeight=e,this}},{key:"setSpacing",value:function(t){switch(Array.isArray(t)?t.length:-1){case-1:t=[t,t,t,t,t,t,1];break;case 1:t=[t[0],t[0],t[0],t[0],t[0],t[0],1];break;case 2:t=[t[1],t[0],t[1],t[0],t[0],t[1],1];break;case 3:t=[t[1],t[0],t[1],t[0],t[0],t[1],t[2]];break;case 6:t=[t[0],t[1],t[2],t[3],t[4],t[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(!h(this._spacing,t)&&(this._spacing=t,this._spacingVars)){for(var e=0;e<this._spacingVars.length;e++)this._spacingVars[e]&&this._solver.suggestValue(this._spacingVars[e],this._spacing[e]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(t){return c.call(this,t),this}},{key:"addConstraints",value:function(t){for(var e=0;e<t.length;e++)c.call(this,t[e]);return this}},{key:"removeConstraint",value:function(t){return f.call(this,t),this}},{key:"removeConstraints",value:function(t){for(var e=0;e<t.length;e++)f.call(this,t[e]);return this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"subViews",get:function(){return this._subViews}}]),t}();e["default"]=V},function(t,e,n){function r(t,e){if(e=o(e,3),u(t)){var n=s(t,e);return n>-1?t[n]:void 0}return a(t,e,i)}var i=n(9),a=n(10),s=n(11),o=n(12),u=Array.isArray;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function r(t,e){return t="number"==typeof t||C.test(t)?+t:-1,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t,e){return t&&z(t,e,w)}function a(t,e){return I.call(t,e)||"object"==typeof t&&e in t&&null===j(t)}function s(t){return k(Object(t))}function o(t){return function(e){return null==e?void 0:e[t]}}function u(t,e){return function(n,r){if(null==n)return n;if(!p(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}function l(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var u=s[t?o:++i];if(n(a[u],u,a)===!1)break}return e}}function c(t){var e=t?t.length:void 0;return g(e)&&(M(t)||_(t)||h(t))?n(e,String):null}function f(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||S;return t===n}function h(t){return d(t)&&I.call(t,"callee")&&(!T.call(t,"callee")||O.call(t)==A)}function p(t){return null!=t&&g(H(t))&&!v(t)}function d(t){return y(t)&&p(t)}function v(t){var e=b(t)?O.call(t):"";return e==E||e==x}function g(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){return!!t&&"object"==typeof t}function _(t){return"string"==typeof t||!M(t)&&y(t)&&O.call(t)==V}function w(t){var e=f(t);if(!e&&!p(t))return s(t);var n=c(t),i=!!n,o=n||[],u=o.length;for(var l in t)!a(t,l)||i&&("length"==l||r(l,u))||e&&"constructor"==l||o.push(l);return o}var m=9007199254740991,A="[object Arguments]",E="[object Function]",x="[object GeneratorFunction]",V="[object String]",C=/^(?:0|[1-9]\d*)$/,S=Object.prototype,I=S.hasOwnProperty,O=S.toString,j=Object.getPrototypeOf,T=S.propertyIsEnumerable,k=Object.keys,R=u(i),z=l(),H=o("length"),M=Array.isArray;t.exports=R},function(t,e){function n(t,e,n,r){var i;return n(t,function(t,n,a){return e(t,n,a)?(i=r?n:t,!1):void 0}),i}t.exports=n},function(t,e){function n(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e,n){(function(t,r){function i(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function a(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function s(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function o(t,e){return i(e,function(e){return[e,t[e]]})}function u(t){return t&&t.Object===Object?t:null}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function c(t,e){return t="number"==typeof t||ce.test(t)?+t:-1,e=null==e?kt:e,t>-1&&t%1==0&&e>t}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function h(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function p(){}function d(t,e){return g(t,e)&&delete t[e]}function v(t,e){if(Ne){var n=t[e];return n===Ot?void 0:n}return Ee.call(t,e)?t[e]:void 0}function g(t,e){return Ne?void 0!==t[e]:Ee.call(t,e)}function b(t,e,n){t[e]=Ne&&void 0===n?Ot:n}function y(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _(){this.__data__={hash:new p,map:Re?new Re:[],string:new p}}function w(t){var e=this.__data__;return it(t)?d("string"==typeof t?e.string:e.hash,t):Re?e.map["delete"](t):j(e.map,t)}function m(t){var e=this.__data__;return it(t)?v("string"==typeof t?e.string:e.hash,t):Re?e.map.get(t):T(e.map,t)}function A(t){var e=this.__data__;return it(t)?g("string"==typeof t?e.string:e.hash,t):Re?e.map.has(t):k(e.map,t)}function E(t,e){var n=this.__data__;return it(t)?b("string"==typeof t?n.string:n.hash,t,e):Re?n.map.set(t,e):z(n.map,t,e),this}function x(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function V(){this.__data__={array:[],map:null}}function C(t){var e=this.__data__,n=e.array;return n?j(n,t):e.map["delete"](t)}function S(t){var e=this.__data__,n=e.array;return n?T(n,t):e.map.get(t)}function I(t){var e=this.__data__,n=e.array;return n?k(n,t):e.map.has(t)}function O(t,e){var n=this.__data__,r=n.array;r&&(r.length<It-1?z(r,t,e):(n.array=null,n.map=new y(r)));var i=n.map;return i&&i.set(t,e),this}function j(t,e){var n=R(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Oe.call(t,n,1),!0}function T(t,e){var n=R(t,e);return 0>n?void 0:t[n][1]}function k(t,e){return R(t,e)>-1}function R(t,e){for(var n=t.length;n--;)if(lt(t[n][0],e))return n;return-1}function z(t,e,n){var r=R(t,e);0>r?t.push([e,n]):t[r][1]=n}function H(t){return Xe(t)?t:St(t)}function M(t,e){e=rt(e,t)?[e]:H(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:void 0}function N(t,e){return Ee.call(t,e)||"object"==typeof t&&e in t&&null===K(t)}function F(t,e){return e in Object(t)}function P(t,e,n,r,i){return t===e?!0:null==t||null==e||!vt(t)&&!gt(e)?t!==t&&e!==e:q(t,e,P,n,r,i)}function q(t,e,n,r,i,a){var s=Xe(t),o=Xe(e),u=zt,c=zt;s||(u=tt(t),u=u==Rt?Dt:u),o||(c=tt(e),c=c==Rt?Dt:c);var f=u==Dt&&!l(t),h=c==Dt&&!l(e),p=u==c;if(p&&!f)return a||(a=new x),s||wt(t)?U(t,e,n,r,i,a):$(t,e,u,n,r,i,a);if(!(i&Tt)){var d=f&&Ee.call(t,"__wrapped__"),v=h&&Ee.call(e,"__wrapped__");if(d||v){var g=d?t.value():t,b=v?e.value():e;return a||(a=new x),n(g,b,r,i,a)}}return p?(a||(a=new x),B(t,e,n,r,i,a)):!1}function L(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var u=o[0],l=t[u],c=o[1];if(s&&o[2]){if(void 0===l&&!(u in t))return!1}else{var f=new x;if(r)var h=r(l,c,u,t,e,f);if(!(void 0===h?P(c,l,r,jt|Tt,f):h))return!1}}return!0}function D(t){return"function"==typeof t?t:null==t?Vt:"object"==typeof t?Xe(t)?Z(t[0],t[1]):W(t):Ct(t)}function G(t){return Te(Object(t))}function W(t){var e=J(t);return 1==e.length&&e[0][2]?ot(e[0][0],e[0][1]):function(n){return n===t||L(n,t,e)}}function Z(t,e){return rt(t)&&st(e)?ot(t,e):function(n){var r=mt(n,t);return void 0===r&&r===e?At(n,t):P(e,r,void 0,jt|Tt)}}function X(t){return function(e){return null==e?void 0:e[t]}}function Q(t){return function(e){return M(e,t)}}function U(t,e,n,r,i,s){var o=-1,u=i&Tt,l=i&jt,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=s.get(t);if(h)return h==e;var p=!0;for(s.set(t,e);++o<c;){var d=t[o],v=e[o];if(r)var g=u?r(v,d,o,e,t,s):r(d,v,o,t,e,s);if(void 0!==g){if(g)continue;p=!1;break}if(l){if(!a(e,function(t){return d===t||n(d,t,r,i,s)})){p=!1;break}}else if(d!==v&&!n(d,v,r,i,s)){p=!1;break}}return s["delete"](t),p}function $(t,e,n,r,i,a,s){switch(n){case Bt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $t:return!(t.byteLength!=e.byteLength||!r(new Se(t),new Se(e)));case Ht:case Mt:return+t==+e;case Nt:return t.name==e.name&&t.message==e.message;case Lt:return t!=+t?e!=+e:t==+e;case Wt:case Xt:return t==e+"";case qt:var o=f;case Zt:var u=a&Tt;if(o||(o=h),t.size!=e.size&&!u)return!1;var l=s.get(t);return l?l==e:(a|=jt,s.set(t,e),U(o(t),o(e),r,i,a,s));case Qt:if(We)return We.call(t)==We.call(e)}return!1}function B(t,e,n,r,i,a){var s=i&Tt,o=Et(t),u=o.length,l=Et(e),c=l.length;if(u!=c&&!s)return!1;for(var f=u;f--;){var h=o[f];if(!(s?h in e:N(e,h)))return!1}var p=a.get(t);if(p)return p==e;var d=!0;a.set(t,e);for(var v=s;++f<u;){h=o[f];var g=t[h],b=e[h];if(r)var y=s?r(b,g,h,e,t,a):r(g,b,h,t,e,a);if(!(void 0===y?g===b||n(g,b,r,i,a):y)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(d=!1)}return a["delete"](t),d}function J(t){for(var e=xt(t),n=e.length;n--;)e[n][2]=st(e[n][1]);return e}function Y(t,e){var n=t[e];return bt(n)?n:void 0}function K(t){return je(Object(t))}function tt(t){return xe.call(t)}function et(t,e,n){e=rt(e,t)?[e]:H(e);for(var r,i=-1,a=e.length;++i<a;){var s=e[i];if(!(r=null!=t&&n(t,s)))break;t=t[s]}if(r)return r;var a=t?t.length:0;return!!a&&dt(a)&&c(s,a)&&(Xe(t)||yt(t)||ct(t))}function nt(t){var e=t?t.length:void 0;return dt(e)&&(Xe(t)||yt(t)||ct(t))?s(e,String):null}function rt(t,e){var n=typeof t;return"number"==n||"symbol"==n?!0:!Xe(t)&&(_t(t)||oe.test(t)||!se.test(t)||null!=e&&t in Object(e))}function it(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function at(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||me;return t===n}function st(t){return t===t&&!vt(t)}function ot(t,e){return function(n){return null==n?!1:n[t]===e&&(void 0!==e||t in Object(n))}}function ut(t){if(null!=t){try{return Ae.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function lt(t,e){return t===e||t!==t&&e!==e}function ct(t){return ht(t)&&Ee.call(t,"callee")&&(!Ie.call(t,"callee")||xe.call(t)==Rt)}function ft(t){return null!=t&&dt(Ze(t))&&!pt(t)}function ht(t){return gt(t)&&ft(t)}function pt(t){var e=vt(t)?xe.call(t):"";return e==Ft||e==Pt}function dt(t){return"number"==typeof t&&t>-1&&t%1==0&&kt>=t}function vt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function gt(t){return!!t&&"object"==typeof t}function bt(t){if(!vt(t))return!1;var e=pt(t)||l(t)?Ve:le;return e.test(ut(t))}function yt(t){return"string"==typeof t||!Xe(t)&&gt(t)&&xe.call(t)==Xt}function _t(t){return"symbol"==typeof t||gt(t)&&xe.call(t)==Qt}function wt(t){return gt(t)&&dt(t.length)&&!!fe[xe.call(t)]}function mt(t,e,n){var r=null==t?void 0:M(t,e);return void 0===r?n:r}function At(t,e){return null!=t&&et(t,e,F)}function Et(t){var e=at(t);if(!e&&!ft(t))return G(t);var n=nt(t),r=!!n,i=n||[],a=i.length;for(var s in t)!N(t,s)||r&&("length"==s||c(s,a))||e&&"constructor"==s||i.push(s);return i}function xt(t){return o(t,Et(t))}function Vt(t){return t}function Ct(t){return rt(t)?X(t):Q(t)}var St=n(14),It=200,Ot="__lodash_hash_undefined__",jt=1,Tt=2,kt=9007199254740991,Rt="[object Arguments]",zt="[object Array]",Ht="[object Boolean]",Mt="[object Date]",Nt="[object Error]",Ft="[object Function]",Pt="[object GeneratorFunction]",qt="[object Map]",Lt="[object Number]",Dt="[object Object]",Gt="[object Promise]",Wt="[object RegExp]",Zt="[object Set]",Xt="[object String]",Qt="[object Symbol]",Ut="[object WeakMap]",$t="[object ArrayBuffer]",Bt="[object DataView]",Jt="[object Float32Array]",Yt="[object Float64Array]",Kt="[object Int8Array]",te="[object Int16Array]",ee="[object Int32Array]",ne="[object Uint8Array]",re="[object Uint8ClampedArray]",ie="[object Uint16Array]",ae="[object Uint32Array]",se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/,ue=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,fe={};fe[Jt]=fe[Yt]=fe[Kt]=fe[te]=fe[ee]=fe[ne]=fe[re]=fe[ie]=fe[ae]=!0,fe[Rt]=fe[zt]=fe[$t]=fe[Ht]=fe[Bt]=fe[Mt]=fe[Nt]=fe[Ft]=fe[qt]=fe[Lt]=fe[Dt]=fe[Wt]=fe[Zt]=fe[Xt]=fe[Ut]=!1;var he={"function":!0,object:!0},pe=he[typeof e]&&e&&!e.nodeType?e:void 0,de=he[typeof t]&&t&&!t.nodeType?t:void 0,ve=u(pe&&de&&"object"==typeof r&&r),ge=u(he[typeof self]&&self),be=u(he[typeof window]&&window),ye=u(he[typeof this]&&this),_e=ve||be!==(ye&&ye.window)&&be||ge||ye||Function("return this")(),we=Array.prototype,me=Object.prototype,Ae=Function.prototype.toString,Ee=me.hasOwnProperty,xe=me.toString,Ve=RegExp("^"+Ae.call(Ee).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=_e.Symbol,Se=_e.Uint8Array,Ie=me.propertyIsEnumerable,Oe=we.splice,je=Object.getPrototypeOf,Te=Object.keys,ke=Y(_e,"DataView"),Re=Y(_e,"Map"),ze=Y(_e,"Promise"),He=Y(_e,"Set"),Me=Y(_e,"WeakMap"),Ne=Y(Object,"create"),Fe=ut(ke),Pe=ut(Re),qe=ut(ze),Le=ut(He),De=ut(Me),Ge=Ce?Ce.prototype:void 0,We=Ge?Ge.valueOf:void 0;p.prototype=Ne?Ne(null):me,y.prototype.clear=_,y.prototype["delete"]=w,y.prototype.get=m,y.prototype.has=A,y.prototype.set=E,x.prototype.clear=V,x.prototype["delete"]=C,x.prototype.get=S,x.prototype.has=I,x.prototype.set=O;var Ze=X("length");(ke&&tt(new ke(new ArrayBuffer(1)))!=Bt||Re&&tt(new Re)!=qt||ze&&tt(ze.resolve())!=Gt||He&&tt(new He)!=Zt||Me&&tt(new Me)!=Ut)&&(tt=function(t){var e=xe.call(t),n=e==Dt?t.constructor:void 0,r=n?ut(n):void 0;if(r)switch(r){case Fe:return Bt;case Pe:return qt;case qe:return Gt;case Le:return Zt;case De:return Ut}return e});var Xe=Array.isArray;t.exports=D}).call(e,n(13)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(t,n){function r(t){return t&&t.Object===Object?t:null}function i(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function a(){}function s(t,e){return u(t,e)&&delete t[e]}function o(t,e){if(at){var n=t[e];return n===R?void 0:n}return K.call(t,e)?t[e]:void 0}function u(t,e){return at?void 0!==t[e]:K.call(t,e)}function l(t,e,n){t[e]=at&&void 0===n?R:n}function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function f(){this.__data__={hash:new a,map:it?new it:[],string:new a}}function h(t){var e=this.__data__;return A(t)?s("string"==typeof t?e.string:e.hash,t):it?e.map["delete"](t):g(e.map,t)}function p(t){var e=this.__data__;return A(t)?o("string"==typeof t?e.string:e.hash,t):it?e.map.get(t):b(e.map,t)}function d(t){var e=this.__data__;return A(t)?u("string"==typeof t?e.string:e.hash,t):it?e.map.has(t):y(e.map,t)}function v(t,e){var n=this.__data__;return A(t)?l("string"==typeof t?n.string:n.hash,t,e):it?n.map.set(t,e):w(n.map,t,e),this}function g(t,e){var n=_(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():rt.call(t,n,1),!0}function b(t,e){var n=_(t,e);return 0>n?void 0:t[n][1]}function y(t,e){return _(t,e)>-1}function _(t,e){for(var n=t.length;n--;)if(V(t[n][0],e))return n;return-1}function w(t,e,n){var r=_(t,e);0>r?t.push([e,n]):t[r][1]=n}function m(t,e){var n=t[e];return O(n)?n:void 0}function A(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function E(t){if(null!=t){try{return Y.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function x(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(k);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s),s};return n.cache=new(x.Cache||c),n}function V(t,e){return t===e||t!==t&&e!==e}function C(t){var e=S(t)?tt.call(t):"";return e==H||e==M}function S(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return!!t&&"object"==typeof t}function O(t){if(!S(t))return!1;var e=C(t)||i(t)?et:L;return e.test(E(t))}function j(t){return"symbol"==typeof t||I(t)&&tt.call(t)==N}function T(t){if("string"==typeof t)return t;if(null==t)return"";if(j(t))return ot?ot.call(t):"";var e=t+"";return"0"==e&&1/t==-z?"-0":e}var k="Expected a function",R="__lodash_hash_undefined__",z=1/0,H="[object Function]",M="[object GeneratorFunction]",N="[object Symbol]",F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,P=/[\\^$.*+?()[\]{}|]/g,q=/\\(\\)?/g,L=/^\[object .+?Constructor\]$/,D={"function":!0,object:!0},G=D[typeof e]&&e&&!e.nodeType?e:void 0,W=D[typeof t]&&t&&!t.nodeType?t:void 0,Z=r(G&&W&&"object"==typeof n&&n),X=r(D[typeof self]&&self),Q=r(D[typeof window]&&window),U=r(D[typeof this]&&this),$=Z||Q!==(U&&U.window)&&Q||X||U||Function("return this")(),B=Array.prototype,J=Object.prototype,Y=Function.prototype.toString,K=J.hasOwnProperty,tt=J.toString,et=RegExp("^"+Y.call(K).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=$.Symbol,rt=B.splice,it=m($,"Map"),at=m(Object,"create"),st=nt?nt.prototype:void 0,ot=st?st.toString:void 0;a.prototype=at?at(null):J,c.prototype.clear=f,c.prototype["delete"]=h,c.prototype.get=p,c.prototype.has=d,c.prototype.set=v;var ut=x(function(t){var e=[];return T(t).replace(F,function(t,n,r,i){e.push(r?i.replace(q,"$1"):n||t)}),e});x.Cache=c,t.exports=ut}).call(e,n(13)(t),function(){return this}())},function(t,e,n){(function(t){(function(){!function(e){"use strict";try{(function(){}).bind(e)}catch(n){Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=this;return function(){return e.apply(t,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var r=void 0!==e.HTMLElement,i=function(t){for(var e=null;t&&t!=Object.prototype;){if(t.tagName){e=t.tagName;break}t=t.prototype}return e||"div"},a=1e-8,s={},o=function(t,e){if(t&&e){if("function"==typeof t[e])return t[e];var n=t.prototype;if(n&&"function"==typeof n[e])return n[e];if(n!==Object.prototype&&n!==Function.prototype)return"function"==typeof t.__super__?o(t.__super__,e):void 0}},u=e.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(t){var n=null,a=null;t["extends"]&&(a=t["extends"],delete t["extends"]),t.initialize&&(n=t.initialize,delete t.initialize);var o=n||function(){};Object.defineProperty(o,"__super__",{value:a?a:Object,enumerable:!1,configurable:!0,writable:!1}),t._t&&(s[t._t]=o);var u=o.prototype=Object.create(a?a.prototype:Object.prototype);if(this.extend(u,t),r&&a&&a.prototype instanceof e.HTMLElement){var l=o,c=i(u),f=function(t){return t.__proto__=u,l.apply(t,arguments),u.created&&t.created(),u.decorate&&t.decorate(),t};this.extend(u,{upgrade:f}),o=function(){return f(e.document.createElement(c))},o.prototype=u,this.extend(o,{ctor:l})}return o},extend:function(t,e){return this.own(e,function(n){var r=Object.getOwnPropertyDescriptor(e,n);try{"function"==typeof r.get||"function"==typeof r.set?Object.defineProperty(t,n,r):"function"==typeof r.value||"_"===n.charAt(0)?(r.writable=!0,r.configurable=!0,r.enumerable=!1,Object.defineProperty(t,n,r)):t[n]=e[n]}catch(i){}}),t},own:function(t,n,r){return Object.getOwnPropertyNames(t).forEach(n,r||e),t},traceprint:function(t){u.verbose&&console.log(t)},fnenterprint:function(t){console.log("* "+t)},fnexitprint:function(t){console.log("- "+t)},assert:function(t,e){if(!t)throw new u.InternalError("Assertion failed: "+e)},plus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.plus(e)},minus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.minus(e)},times:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.times(e)},divide:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.divide(e)},approx:function(t,e){if(t===e)return!0;var n,r;return n=t instanceof u.Variable?t.value:t,r=e instanceof u.Variable?e.value:e,0==n?a>Math.abs(r):0==r?a>Math.abs(n):Math.abs(n-r)<Math.abs(n)*a},_inc:function(t){return function(){return t++}}(0),parseJSON:function(t){return JSON.parse(t,function(t,e){if("object"!=typeof e||"string"!=typeof e._t)return e;var n=e._t,r=s[n];if(n&&r){var i=o(r,"fromJSON");if(i)return i(e,r)}return e})}};"undefined"!=typeof t&&"undefined"==typeof load&&(e.exports=u)}(this),function(t){"use strict";var e=function(t){var e=t.hashCode?t.hashCode:""+t;return e},n=function(t,e){Object.keys(t).forEach(function(n){e[n]=t[n]})},r={};t.HashTable=t.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(t,n){var r=e(t);this._store.hasOwnProperty(r)||this.size++,this._store[r]=n,this._keyStrMap[r]=t},get:function(t){if(!this.size)return null;t=e(t);var n=this._store[t];return void 0!==n?this._store[t]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var t={};n(this._store,t),this._store=t},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(t){t=e(t),this._store.hasOwnProperty(t)&&(this._deleted++,delete this._store[t],this.size>0&&this.size--)},each:function(t,e){if(this.size){this._perhapsCompact();var n=this._store,r=this._keyStrMap;Object.keys(this._store).forEach(function(i){t.call(e||null,r[i],n[i])},this)}},escapingEach:function(t,e){
if(this.size){this._perhapsCompact();for(var n=this,i=this._store,a=this._keyStrMap,s=r,o=Object.keys(i),u=0;o.length>u;u++)if(function(r){n._store.hasOwnProperty(r)&&(s=t.call(e||null,a[r],i[r]))}(o[u]),s){if(void 0!==s.retval)return s;if(s.brk)break}}},clone:function(){var e=new t.HashTable;return this.size&&(e.size=this.size,n(this._store,e._store),n(this._keyStrMap,e._keyStrMap)),e},equals:function(e){if(e===this)return!0;if(!(e instanceof t.HashTable)||e._size!==this._size)return!1;for(var n=Object.keys(this._store),r=0;n.length>r;r++){var i=n[r];if(this._keyStrMap[i]!==e._keyStrMap[i]||this._store[i]!==e._store[i])return!1}return!0},toString:function(){var t="";return this.each(function(e,n){t+=e+" => "+n+"\n"}),t}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.HashSet=t.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(t){var e=this.storage;e.indexOf(t),-1==e.indexOf(t)&&e.push(t),this.size=this.storage.length},values:function(){return this.storage},has:function(t){var e=this.storage;return-1!=e.indexOf(t)},"delete":function(t){var e=this.storage.indexOf(t);return-1==e?null:(this.storage.splice(e,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(t,e){this.size&&this.storage.forEach(t,e)},escapingEach:function(t,e){this.size&&this.storage.forEach(t,e)},toString:function(){var t=this.size+" {",e=!0;return this.each(function(n){e?e=!1:t+=", ",t+=n}),t+="}\n"},toJSON:function(){var t=[];return this.each(function(e){t.push(e.toJSON())}),{_t:"c.HashSet",data:t}},fromJSON:function(e){var n=new t.HashSet;return e.data&&(n.size=e.data.length,n.storage=e.data),n}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.Error=t.inherit({initialize:function(t){t&&(this._description=t)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(t){this._description=t},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var e=function(e,n){return t.inherit({"extends":t.Error,initialize:function(){t.Error.apply(this,arguments)},_name:e||"",_description:n||""})};t.ConstraintNotFound=e("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),t.InternalError=e("c.InternalError"),t.NonExpression=e("c.NonExpression","The resulting expression would be non"),t.NotEnoughStays=e("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),t.RequiredFailure=e("c.RequiredFailure","A required constraint cannot be satisfied"),t.TooDifficult=e("c.TooDifficult","The constraints are too difficult to solve")}(this.c||t.parent.exports||{}),function(t){"use strict";var e=1e3;t.SymbolicWeight=t.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var t=1,n=arguments.length-1;n>=0;--n)this.value+=arguments[n]*t,t*=e},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||t.parent.exports||{}),function(t){t.Strength=t.inherit({initialize:function(e,n,r,i){this.name=e,this.symbolicWeight=n instanceof t.SymbolicWeight?n:new t.SymbolicWeight(n,r,i)},get required(){return this===t.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1)}(this.c||t.parent.exports.c),function(t){"use strict";t.AbstractVariable=t.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(e,n){this.hashCode=t._inc(),this.name=(n||"")+this.hashCode,e&&(void 0!==e.name&&(this.name=e.name),void 0!==e.value&&(this.value=e.value),void 0!==e.prefix&&(this._prefix=e.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var t={};return this._t&&(t._t=this._t),this.name&&(t.name=this.name),void 0!==this.value&&(t.value=this.value),this._prefix&&(t._prefix=this._prefix),this._t&&(t._t=this._t),t},fromJSON:function(e,n){var r=new n;return t.extend(r,e),r},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),t.Variable=t.inherit({_t:"c.Variable","extends":t.AbstractVariable,initialize:function(e){this._init(e,"v");var n=t.Variable._map;n&&(n[this.name]=this)},isExternal:!0}),t.DummyVariable=t.inherit({_t:"c.DummyVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),t.ObjectiveVariable=t.inherit({_t:"c.ObjectiveVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"o")},value:"obj"}),t.SlackVariable=t.inherit({_t:"c.SlackVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||t.parent.exports||{}),function(t){"use strict";t.Point=t.inherit({initialize:function(e,n,r){if(e instanceof t.Variable)this._x=e;else{var i={value:e};r&&(i.name="x"+r),this._x=new t.Variable(i)}if(n instanceof t.Variable)this._y=n;else{var a={value:n};r&&(a.name="y"+r),this._y=new t.Variable(a)}},get x(){return this._x},set x(e){e instanceof t.Variable?this._x=e:this._x.value=e},get y(){return this._y},set y(e){e instanceof t.Variable?this._y=e:this._y.value=e},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.Expression=t.inherit({initialize:function(e,n,r){t.GC&&console.log("new c.Expression"),this.constant="number"!=typeof r||isNaN(r)?0:r,this.terms=new t.HashTable,e instanceof t.AbstractVariable?this.setVariable(e,"number"==typeof n?n:1):"number"==typeof e&&(isNaN(e)?console.trace():this.constant=e)},initializeFromHash:function(e,n){return t.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),t.GC&&console.log("clone c.Expression"),this.constant=e,this.terms=n.clone(),this},multiplyMe:function(t){this.constant*=t;var e=this.terms;return e.each(function(n,r){e.set(n,r*t)}),this},clone:function(){t.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var e=new t.Expression;return e.initializeFromHash(this.constant,this.terms),e},times:function(e){if("number"==typeof e)return this.clone().multiplyMe(e);if(this.isConstant)return e.times(this.constant);if(e.isConstant)return this.times(e.constant);throw new t.NonExpression},plus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,1):e instanceof t.Variable?this.clone().addVariable(e,1):void 0},minus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,-1):e instanceof t.Variable?this.clone().addVariable(e,-1):void 0},divide:function(e){if("number"==typeof e){if(t.approx(e,0))throw new t.NonExpression;return this.times(1/e)}if(e instanceof t.Expression){if(!e.isConstant)throw new t.NonExpression;return this.times(1/e.constant)}},addExpression:function(e,n,r,i){return e instanceof t.AbstractVariable&&(e=new t.Expression(e),t.trace&&console.log("addExpression: Had to cast a var to an expression")),n=n||1,this.constant+=n*e.constant,e.terms.each(function(t,e){this.addVariable(t,e*n,r,i)},this),this},addVariable:function(e,n,r,i){null==n&&(n=1),t.trace&&console.log("c.Expression::addVariable():",e,n);var a=this.terms.get(e);if(a){var s=a+n;0==s||t.approx(s,0)?(i&&i.noteRemovedVariable(e,r),this.terms["delete"](e)):this.setVariable(e,s)}else t.approx(n,0)||(this.setVariable(e,n),i&&i.noteAddedVariable(e,r));return this},setVariable:function(t,e){return this.terms.set(t,e),this},anyPivotableVariable:function(){if(this.isConstant)throw new t.InternalError("anyPivotableVariable called on a constant");var e=this.terms.escapingEach(function(t){return t.isPivotable?{retval:t}:void 0});return e&&void 0!==e.retval?e.retval:null},substituteOut:function(e,n,r,i){t.trace&&(t.fnenterprint("CLE:substituteOut: "+e+", "+n+", "+r+", ..."),t.traceprint("this = "+this));var a=this.setVariable.bind(this),s=this.terms,o=s.get(e);s["delete"](e),this.constant+=o*n.constant,n.terms.each(function(e,n){var u=s.get(e);if(u){var l=u+o*n;t.approx(l,0)?(i.noteRemovedVariable(e,r),s["delete"](e)):a(e,l)}else a(e,o*n),i&&i.noteAddedVariable(e,r)}),t.trace&&t.traceprint("Now this is "+this)},changeSubject:function(t,e){this.setVariable(t,this.newSubject(e))},newSubject:function(e){t.trace&&t.fnenterprint("newSubject:"+e);var n=1/this.terms.get(e);return this.terms["delete"](e),this.multiplyMe(-n),n},coefficientFor:function(t){return this.terms.get(t)||0},get isConstant(){return 0==this.terms.size},toString:function(){var e="",n=!1;if(!t.approx(this.constant,0)||this.isConstant){if(e+=this.constant,this.isConstant)return e;n=!0}return this.terms.each(function(t,r){n&&(e+=" + "),e+=r+"*"+t,n=!0}),e},equals:function(e){return e===this?!0:e instanceof t.Expression&&e.constant===this.constant&&e.terms.equals(this.terms)},Plus:function(t,e){return t.plus(e)},Minus:function(t,e){return t.minus(e)},Times:function(t,e){return t.times(e)},Divide:function(t,e){return t.divide(e)}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.AbstractConstraint=t.inherit({initialize:function(e,n){this.hashCode=t._inc(),this.strength=e||t.Strength.required,this.weight=n||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===t.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var e=t.AbstractConstraint.prototype.toString,n=function(e,n,r){t.AbstractConstraint.call(this,n||t.Strength.strong,r),this.variable=e,this.expression=new t.Expression(e,-1,e.value)};t.EditConstraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+e.call(this)}}),t.StayConstraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+e.call(this)}});var r=t.Constraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(e,n,r){t.AbstractConstraint.call(this,n,r),this.expression=e}});t.Inequality=t.inherit({"extends":t.Constraint,_cloneOrNewCle:function(e){return e.clone?e.clone():new t.Expression(e)},initialize:function(e,n,i,a,s){var o=e instanceof t.Expression,u=i instanceof t.Expression,l=e instanceof t.AbstractVariable,c=i instanceof t.AbstractVariable,f="number"==typeof e,h="number"==typeof i;if((o||f)&&c){var p=e,d=n,v=i,g=a,b=s;if(r.call(this,this._cloneOrNewCle(p),g,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else if(l&&(u||h)){var p=i,d=n,v=e,g=a,b=s;if(r.call(this,this._cloneOrNewCle(p),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else{if(o&&h){var y=e,d=n,_=i,g=a,b=s;if(r.call(this,this._cloneOrNewCle(y),g,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(_));else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(_),-1)}return this}if(f&&u){var y=i,d=n,_=e,g=a,b=s;if(r.call(this,this._cloneOrNewCle(y),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(_));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(_),-1)}return this}if(o&&u){var y=e,d=n,_=i,g=a,b=s;if(r.call(this,this._cloneOrNewCle(_),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}}else{if(o)return r.call(this,e,n,i);if(n==t.GEQ)r.call(this,new t.Expression(i),a,s),this.expression.multiplyMe(-1),this.expression.addVariable(e);else{if(n!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");r.call(this,new t.Expression(i),a,s),this.expression.addVariable(e,-1)}}}},isInequality:!0,toString:function(){return r.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),t.Equation=t.inherit({"extends":t.Constraint,initialize:function(e,n,i,a){if(e instanceof t.Expression&&!n||n instanceof t.Strength)r.call(this,e,n,i);else if(e instanceof t.AbstractVariable&&n instanceof t.Expression){var s=e,o=n,u=i,l=a;r.call(this,o.clone(),u,l),this.expression.addVariable(s,-1)}else if(e instanceof t.AbstractVariable&&"number"==typeof n){var s=e,c=n,u=i,l=a;r.call(this,new t.Expression(c),u,l),this.expression.addVariable(s,-1)}else if(e instanceof t.Expression&&n instanceof t.AbstractVariable){var o=e,s=n,u=i,l=a;r.call(this,o.clone(),u,l),this.expression.addVariable(s,-1)}else{if(!(e instanceof t.Expression||e instanceof t.AbstractVariable||"number"==typeof e)||!(n instanceof t.Expression||n instanceof t.AbstractVariable||"number"==typeof n))throw"Bad initializer to c.Equation";e=e instanceof t.Expression?e.clone():new t.Expression(e),n=n instanceof t.Expression?n.clone():new t.Expression(n),r.call(this,e,i,a),this.expression.addExpression(n,-1)}t.assert(this.strength instanceof t.Strength,"_strength not set")},toString:function(){return r.prototype.toString.call(this)+" = 0)"}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.EditInfo=t.inherit({initialize:function(t,e,n,r,i){this.constraint=t,this.editPlus=e,this.editMinus=n,this.prevEditConstant=r,this.index=i},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.Tableau=t.inherit({initialize:function(){this.columns=new t.HashTable,this.rows=new t.HashTable,this._infeasibleRows=new t.HashSet,this._externalRows=new t.HashSet,this._externalParametricVars=new t.HashSet},noteRemovedVariable:function(e,n){t.trace&&console.log("c.Tableau::noteRemovedVariable: ",e,n);var r=this.columns.get(e);n&&r&&r["delete"](n)},noteAddedVariable:function(t,e){e&&this.insertColVar(t,e)},getInternalInfo:function(){var t="Tableau Information:\n";return t+="Rows: "+this.rows.size,t+=" (= "+(this.rows.size-1)+" constraints)",t+="\nColumns: "+this.columns.size,t+="\nInfeasible Rows: "+this._infeasibleRows.size,t+="\nExternal basic variables: "+this._externalRows.size,t+="\nExternal parametric variables: ",t+=this._externalParametricVars.size,t+="\n"},toString:function(){var t="Tableau:\n";return this.rows.each(function(e,n){t+=e,t+=" <==> ",t+=n,t+="\n"}),t+="\nColumns:\n",t+=this.columns,t+="\nInfeasible rows: ",t+=this._infeasibleRows,t+="External basic variables: ",t+=this._externalRows,t+="External parametric variables: ",t+=this._externalParametricVars},insertColVar:function(e,n){var r=this.columns.get(e);r||(r=new t.HashSet,this.columns.set(e,r)),r.add(n)},addRow:function(e,n){t.trace&&t.fnenterprint("addRow: "+e+", "+n),this.rows.set(e,n),n.terms.each(function(t){this.insertColVar(t,e),t.isExternal&&this._externalParametricVars.add(t)},this),e.isExternal&&this._externalRows.add(e),t.trace&&t.traceprint(""+this)},removeColumn:function(e){t.trace&&t.fnenterprint("removeColumn:"+e);var n=this.columns.get(e);n?(this.columns["delete"](e),n.each(function(t){var n=this.rows.get(t);n.terms["delete"](e)},this)):t.trace&&console.log("Could not find var",e,"in columns"),e.isExternal&&(this._externalRows["delete"](e),this._externalParametricVars["delete"](e))},removeRow:function(e){t.trace&&t.fnenterprint("removeRow:"+e);var n=this.rows.get(e);return t.assert(null!=n),n.terms.each(function(n){var r=this.columns.get(n);null!=r&&(t.trace&&console.log("removing from varset:",e),r["delete"](e))},this),this._infeasibleRows["delete"](e),e.isExternal&&this._externalRows["delete"](e),this.rows["delete"](e),t.trace&&t.fnexitprint("returning "+n),n},substituteOut:function(e,n){t.trace&&t.fnenterprint("substituteOut:"+e+", "+n),t.trace&&t.traceprint(""+this);var r=this.columns.get(e);r.each(function(t){var r=this.rows.get(t);r.substituteOut(e,n,t,this),t.isRestricted&&0>r.constant&&this._infeasibleRows.add(t)},this),e.isExternal&&(this._externalRows.add(e),this._externalParametricVars["delete"](e)),this.columns["delete"](e)},columnsHasKey:function(t){return!!this.columns.get(t)}})}(this.c||t.parent.exports||{}),function(t){var e=t.Tableau,n=e.prototype,r=1e-8,i=t.Strength.weak;t.SimplexSolver=t.inherit({"extends":t.Tableau,initialize:function(){t.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new t.HashTable,this._markerVars=new t.HashTable,this._objective=new t.ObjectiveVariable({name:"Z"}),this._editVarMap=new t.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new t.Expression),this._stkCedcns=[0],t.trace&&t.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(e,n){var r=new t.Inequality(e,t.GEQ,new t.Expression(n));return this.addConstraint(r)},addUpperBound:function(e,n){var r=new t.Inequality(e,t.LEQ,new t.Expression(n));return this.addConstraint(r)},addBounds:function(t,e,n){return this.addLowerBound(t,e),this.addUpperBound(t,n),this},add:function(){for(var t=0;arguments.length>t;t++)this.addConstraint(arguments[t]);return this},addConstraint:function(e){t.trace&&t.fnenterprint("addConstraint: "+e);var n=Array(2),r=Array(1),i=this.newExpression(e,n,r);if(r=r[0],this.tryAddingDirectly(i)||this.addWithArtificialVariable(i),this._fNeedsSolving=!0,e.isEditConstraint){var a=this._editVarMap.size,s=n[0],o=n[1];!s instanceof t.SlackVariable&&console.warn("cvEplus not a slack variable =",s),!o instanceof t.SlackVariable&&console.warn("cvEminus not a slack variable =",o),t.debug&&console.log("new c.EditInfo("+e+", "+s+", "+o+", "+r+", "+a+")");var u=new t.EditInfo(e,s,o,r,a);this._editVarMap.set(e.variable,u),this._editVarList[a]={v:e.variable,info:u}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(e){t.trace&&t.fnenterprint("addConstraintNoException: "+e);try{return this.addConstraint(e),!0}catch(n){return!1}},addEditVar:function(e,n){return t.trace&&t.fnenterprint("addEditVar: "+e+" @ "+n),this.addConstraint(new t.EditConstraint(e,n||t.Strength.strong))},beginEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(e){try{for(var n=this._editVarList.length,r=e;n>r;r++)this._editVarList[r]&&this.removeConstraint(this._editVarMap.get(this._editVarList[r].v).constraint);return this._editVarList.length=e,t.assert(this._editVarMap.size==e,"_editVarMap.size == n"),this}catch(i){throw new t.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(e){return t.trace&&console.log("addPointStays",e),e.forEach(function(t,e){this.addStay(t.x,i,Math.pow(2,e)),this.addStay(t.y,i,Math.pow(2,e))},this),this},addStay:function(e,n,r){var a=new t.StayConstraint(e,n||i,r||1);return this.addConstraint(a)},removeConstraint:function(t){return this.removeConstraintInternal(t),this},removeConstraintInternal:function(e){t.trace&&t.fnenterprint("removeConstraintInternal: "+e),t.trace&&t.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var n=this.rows.get(this._objective),r=this._errorVars.get(e);t.trace&&t.traceprint("eVars == "+r),null!=r&&r.each(function(i){var a=this.rows.get(i);null==a?n.addVariable(i,-e.weight*e.strength.symbolicWeight.value,this._objective,this):n.addExpression(a,-e.weight*e.strength.symbolicWeight.value,this._objective,this),t.trace&&t.traceprint("now eVars == "+r)},this);var i=this._markerVars.get(e);if(this._markerVars["delete"](e),null==i)throw new t.InternalError("Constraint not found in removeConstraintInternal");if(t.trace&&t.traceprint("Looking to remove var "+i),null==this.rows.get(i)){var a=this.columns.get(i);t.trace&&t.traceprint("Must pivot -- columns are "+a);var s=null,o=0;a.each(function(e){if(e.isRestricted){var n=this.rows.get(e),r=n.coefficientFor(i);if(t.trace&&t.traceprint("Marker "+i+"'s coefficient in "+n+" is "+r),0>r){var a=-n.constant/r;(null==s||o>a||t.approx(a,o)&&e.hashCode<s.hashCode)&&(o=a,s=e)}}},this),null==s&&(t.trace&&t.traceprint("exitVar is still null"),a.each(function(t){if(t.isRestricted){var e=this.rows.get(t),n=e.coefficientFor(i),r=e.constant/n;(null==s||o>r)&&(o=r,s=t)}},this)),null==s&&(0==a.size?this.removeColumn(i):a.escapingEach(function(t){return t!=this._objective?(s=t,{brk:!0}):void 0},this)),null!=s&&this.pivot(i,s)}if(null!=this.rows.get(i)&&this.removeRow(i),null!=r&&r.each(function(t){t!=i&&this.removeColumn(t)},this),e.isStayConstraint){if(null!=r)for(var u=0;this._stayPlusErrorVars.length>u;u++)r["delete"](this._stayPlusErrorVars[u]),r["delete"](this._stayMinusErrorVars[u])}else if(e.isEditConstraint){t.assert(null!=r,"eVars != null");var l=this._editVarMap.get(e.variable);this.removeColumn(l.editMinus),this._editVarMap["delete"](e.variable)}return null!=r&&this._errorVars["delete"](r),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw t.trace&&t.fnenterprint("reset"),new t.InternalError("reset not implemented")},resolveArray:function(e){t.trace&&t.fnenterprint("resolveArray"+e);var n=e.length;this._editVarMap.each(function(t,r){var i=r.index;n>i&&this.suggestValue(t,e[i])},this),this.resolve()},resolvePair:function(t,e){this.suggestValue(this._editVarList[0].v,t),this.suggestValue(this._editVarList[1].v,e),this.resolve()},resolve:function(){t.trace&&t.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(e,n){t.trace&&console.log("suggestValue("+e+", "+n+")");var r=this._editVarMap.get(e);if(!r)throw new t.Error("suggestValue for variable "+e+", but var is not an edit variable");var i=n-r.prevEditConstant;return r.prevEditConstant=n,this.deltaEditConstant(i,r.editPlus,r.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(e,n){if(!this.columnsHasKey(e)&&null==this.rows.get(e))return e.value=n,this;if(!t.approx(n,e.value)){this.addEditVar(e),this.beginEdit();try{this.suggestValue(e,n)}catch(r){throw new t.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(e){if(!this.columnsHasKey(e)&&null==this.rows.get(e)){try{this.addStay(e)}catch(n){throw new t.InternalError("Error in addVar -- required failure is impossible")}t.trace&&t.traceprint("added initial stay on "+e)}return this},getInternalInfo:function(){var t=n.getInternalInfo.call(this);return t+="\nSolver info:\n",t+="Stay Error Variables: ",t+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,t+=" ("+this._stayPlusErrorVars.length+" +, ",t+=this._stayMinusErrorVars.length+" -)\n",t+="Edit Variables: "+this._editVarMap.size,t+="\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var t=n.getInternalInfo.call(this);return t+="\n_stayPlusErrorVars: ",t+="["+this._stayPlusErrorVars+"]",t+="\n_stayMinusErrorVars: ",t+="["+this._stayMinusErrorVars+"]",t+="\n",t+="_editVarMap:\n"+this._editVarMap,t+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(e){t.trace&&t.fnenterprint("addWithArtificialVariable: "+e);var n=new t.SlackVariable({value:++this._artificialCounter,prefix:"a"}),r=new t.ObjectiveVariable({name:"az"}),i=e.clone();t.trace&&t.traceprint("before addRows:\n"+this),this.addRow(r,i),this.addRow(n,e),t.trace&&t.traceprint("after addRows:\n"+this),this.optimize(r);var a=this.rows.get(r);if(t.trace&&t.traceprint("azTableauRow.constant == "+a.constant),!t.approx(a.constant,0))throw this.removeRow(r),this.removeColumn(n),new t.RequiredFailure;var s=this.rows.get(n);if(null!=s){if(s.isConstant)return this.removeRow(n),void this.removeRow(r);var o=s.anyPivotableVariable();this.pivot(o,n)}t.assert(null==this.rows.get(n),"rowExpression(av) == null"),this.removeColumn(n),this.removeRow(r)},tryAddingDirectly:function(e){t.trace&&t.fnenterprint("tryAddingDirectly: "+e);var n=this.chooseSubject(e);return null==n?(t.trace&&t.fnexitprint("returning false"),!1):(e.newSubject(n),this.columnsHasKey(n)&&this.substituteOut(n,e),this.addRow(n,e),t.trace&&t.fnexitprint("returning true"),!0)},chooseSubject:function(e){t.trace&&t.fnenterprint("chooseSubject: "+e);var n=null,r=!1,i=!1,a=e.terms,s=a.escapingEach(function(t,e){if(r){if(!t.isRestricted&&!this.columnsHasKey(t))return{retval:t}}else if(t.isRestricted){if(!i&&!t.isDummy&&0>e){var a=this.columns.get(t);(null==a||1==a.size&&this.columnsHasKey(this._objective))&&(n=t,i=!0)}}else n=t,r=!0},this);if(s&&void 0!==s.retval)return s.retval;if(null!=n)return n;var o=0,s=a.escapingEach(function(t,e){return t.isDummy?void(this.columnsHasKey(t)||(n=t,o=e)):{retval:null}},this);if(s&&void 0!==s.retval)return s.retval;if(!t.approx(e.constant,0))throw new t.RequiredFailure;return o>0&&e.multiplyMe(-1),n},deltaEditConstant:function(e,n,r){t.trace&&t.fnenterprint("deltaEditConstant :"+e+", "+n+", "+r);var i=this.rows.get(n);if(null!=i)return i.constant+=e,void(0>i.constant&&this._infeasibleRows.add(n));var a=this.rows.get(r);if(null!=a)return a.constant+=-e,void(0>a.constant&&this._infeasibleRows.add(r));var s=this.columns.get(r);s||console.log("columnVars is null -- tableau is:\n"+this),s.each(function(t){var n=this.rows.get(t),i=n.coefficientFor(r);n.constant+=i*e,t.isRestricted&&0>n.constant&&this._infeasibleRows.add(t)},this)},dualOptimize:function(){t.trace&&t.fnenterprint("dualOptimize:");for(var e=this.rows.get(this._objective);this._infeasibleRows.size;){var n=this._infeasibleRows.values()[0];this._infeasibleRows["delete"](n);var r=null,i=this.rows.get(n);if(i&&0>i.constant){var a,s=Number.MAX_VALUE,o=i.terms;if(o.each(function(n,i){if(i>0&&n.isPivotable){var o=e.coefficientFor(n);a=o/i,(s>a||t.approx(a,s)&&n.hashCode<r.hashCode)&&(r=n,s=a)}}),s==Number.MAX_VALUE)throw new t.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(r,n)}}},newExpression:function(e,n,r){t.trace&&(t.fnenterprint("newExpression: "+e),t.traceprint("cn.isInequality == "+e.isInequality),t.traceprint("cn.required == "+e.required));var i=e.expression,a=new t.Expression(i.constant),s=new t.SlackVariable,o=new t.DummyVariable,u=new t.SlackVariable,l=new t.SlackVariable,c=i.terms;if(c.each(function(t,e){var n=this.rows.get(t);n?a.addExpression(n,e):a.addVariable(t,e)},this),e.isInequality){if(t.trace&&t.traceprint("Inequality, adding slack"),++this._slackCounter,s=new t.SlackVariable({value:this._slackCounter,prefix:"s"}),a.setVariable(s,-1),this._markerVars.set(e,s),!e.required){++this._slackCounter,u=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),a.setVariable(u,1);var f=this.rows.get(this._objective);f.setVariable(u,e.strength.symbolicWeight.value*e.weight),this.insertErrorVar(e,u),this.noteAddedVariable(u,this._objective)}}else if(e.required)t.trace&&t.traceprint("Equality, required"),++this._dummyCounter,o=new t.DummyVariable({value:this._dummyCounter,prefix:"d"}),a.setVariable(o,1),this._markerVars.set(e,o),t.trace&&t.traceprint("Adding dummyVar == d"+this._dummyCounter);else{t.trace&&t.traceprint("Equality, not required"),++this._slackCounter,l=new t.SlackVariable({value:this._slackCounter,prefix:"ep"}),u=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),a.setVariable(l,-1),a.setVariable(u,1),this._markerVars.set(e,l);var f=this.rows.get(this._objective);t.trace&&console.log(f);var h=e.strength.symbolicWeight.value*e.weight;0==h&&(t.trace&&t.traceprint("cn == "+e),t.trace&&t.traceprint("adding "+l+" and "+u+" with swCoeff == "+h)),f.setVariable(l,h),this.noteAddedVariable(l,this._objective),f.setVariable(u,h),this.noteAddedVariable(u,this._objective),this.insertErrorVar(e,u),this.insertErrorVar(e,l),e.isStayConstraint?(this._stayPlusErrorVars.push(l),this._stayMinusErrorVars.push(u)):e.isEditConstraint&&(n[0]=l,n[1]=u,r[0]=i.constant)}return 0>a.constant&&a.multiplyMe(-1),t.trace&&t.fnexitprint("returning "+a),a},optimize:function(e){t.trace&&t.fnenterprint("optimize: "+e),t.trace&&t.traceprint(""+this),this._optimizeCount++;var n=this.rows.get(e);t.assert(null!=n,"zRow != null");for(var i,a,s=null,o=null;;){if(i=0,a=n.terms,a.escapingEach(function(t,e){return t.isPivotable&&i>e?(i=e,s=t,{brk:1}):void 0},this),i>=-r)return;t.trace&&console.log("entryVar:",s,"objectiveCoeff:",i);var u=Number.MAX_VALUE,l=this.columns.get(s),c=0;if(l.each(function(e){if(t.trace&&t.traceprint("Checking "+e),e.isPivotable){var n=this.rows.get(e),r=n.coefficientFor(s);t.trace&&t.traceprint("pivotable, coeff = "+r),0>r&&(c=-n.constant/r,(u>c||t.approx(c,u)&&e.hashCode<o.hashCode)&&(u=c,o=e))}},this),u==Number.MAX_VALUE)throw new t.InternalError("Objective function is unbounded in optimize");this.pivot(s,o),t.trace&&t.traceprint(""+this)}},pivot:function(e,n){t.trace&&console.log("pivot: ",e,n);var r=!1;r&&console.time(" SimplexSolver::pivot"),null==e&&console.warn("pivot: entryVar == null"),null==n&&console.warn("pivot: exitVar == null"),r&&console.time("  removeRow");var i=this.removeRow(n);r&&console.timeEnd("  removeRow"),r&&console.time("  changeSubject"),i.changeSubject(n,e),r&&console.timeEnd("  changeSubject"),r&&console.time("  substituteOut"),this.substituteOut(e,i),r&&console.timeEnd("  substituteOut"),r&&console.time("  addRow"),this.addRow(e,i),r&&console.timeEnd("  addRow"),r&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){t.trace&&console.log("_resetStayConstants");for(var e=0;this._stayPlusErrorVars.length>e;e++){var n=this.rows.get(this._stayPlusErrorVars[e]);null==n&&(n=this.rows.get(this._stayMinusErrorVars[e])),null!=n&&(n.constant=0)}},_setExternalVariables:function(){t.trace&&t.fnenterprint("_setExternalVariables:"),t.trace&&t.traceprint(""+this),this._externalParametricVars.each(function(e){null!=this.rows.get(e)?t.trace&&console.log("Error: variable"+e+" in _externalParametricVars is basic"):e.value=0},this),this._externalRows.each(function(t){var e=this.rows.get(t);t.value!=e.constant&&(t.value=e.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(e,n){t.trace&&t.fnenterprint("insertErrorVar:"+e+", "+n);var r=this._errorVars.get(n);r||(r=new t.HashSet,this._errorVars.set(e,r)),r.add(n)}})}(this.c||t.parent.exports||{}),function(t){"use strict";t.Timer=t.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||t.parent.exports||{}),__cassowary_parser=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"';
}var e={parse:function(e,n){function r(t){q>F||(F>q&&(q=F,L=[]),L.push(t))}function i(){var t,e,n,r,i;if(r=F,i=F,t=y(),null!==t){if(n=a(),null!==n)for(e=[];null!==n;)e.push(n),n=a();else e=null;null!==e?(n=y(),null!==n?t=[t,e,n]:(t=null,F=i)):(t=null,F=i)}else t=null,F=i;return null!==t&&(t=function(t,e){return e}(r,t[1])),null===t&&(F=r),t}function a(){var t,e,n,r;return n=F,r=F,t=z(),null!==t?(e=f(),null!==e?t=[t,e]:(t=null,F=r)):(t=null,F=r),null!==t&&(t=function(t,e){return e}(n,t[0])),null===t&&(F=n),t}function s(){var t;return e.length>F?(t=e.charAt(F),F++):(t=null,0===P&&r("any character")),t}function o(){var t;return/^[a-zA-Z]/.test(e.charAt(F))?(t=e.charAt(F),F++):(t=null,0===P&&r("[a-zA-Z]")),null===t&&(36===e.charCodeAt(F)?(t="$",F++):(t=null,0===P&&r('"$"')),null===t&&(95===e.charCodeAt(F)?(t="_",F++):(t=null,0===P&&r('"_"')))),t}function u(){var t;return P++,/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(F))?(t=e.charAt(F),F++):(t=null,0===P&&r("[\\t\\x0B\\f \\xA0\\uFEFF]")),P--,0===P&&null===t&&r("whitespace"),t}function l(){var t;return/^[\n\r\u2028\u2029]/.test(e.charAt(F))?(t=e.charAt(F),F++):(t=null,0===P&&r("[\\n\\r\\u2028\\u2029]")),t}function c(){var t;return P++,10===e.charCodeAt(F)?(t="\n",F++):(t=null,0===P&&r('"\\n"')),null===t&&("\r\n"===e.substr(F,2)?(t="\r\n",F+=2):(t=null,0===P&&r('"\\r\\n"')),null===t&&(13===e.charCodeAt(F)?(t="\r",F++):(t=null,0===P&&r('"\\r"')),null===t&&(8232===e.charCodeAt(F)?(t="\u2028",F++):(t=null,0===P&&r('"\\u2028"')),null===t&&(8233===e.charCodeAt(F)?(t="\u2029",F++):(t=null,0===P&&r('"\\u2029"')))))),P--,0===P&&null===t&&r("end of line"),t}function f(){var t,n,i;return i=F,t=y(),null!==t?(59===e.charCodeAt(F)?(n=";",F++):(n=null,0===P&&r('";"')),null!==n?t=[t,n]:(t=null,F=i)):(t=null,F=i),null===t&&(i=F,t=b(),null!==t?(n=c(),null!==n?t=[t,n]:(t=null,F=i)):(t=null,F=i),null===t&&(i=F,t=y(),null!==t?(n=h(),null!==n?t=[t,n]:(t=null,F=i)):(t=null,F=i))),t}function h(){var t,n;return n=F,P++,e.length>F?(t=e.charAt(F),F++):(t=null,0===P&&r("any character")),P--,null===t?t="":(t=null,F=n),t}function p(){var t;return P++,t=d(),null===t&&(t=g()),P--,0===P&&null===t&&r("comment"),t}function d(){var t,n,i,a,o,u,l;if(o=F,"/*"===e.substr(F,2)?(t="/*",F+=2):(t=null,0===P&&r('"/*"')),null!==t){for(n=[],u=F,l=F,P++,"*/"===e.substr(F,2)?(i="*/",F+=2):(i=null,0===P&&r('"*/"')),P--,null===i?i="":(i=null,F=l),null!==i?(a=s(),null!==a?i=[i,a]:(i=null,F=u)):(i=null,F=u);null!==i;)n.push(i),u=F,l=F,P++,"*/"===e.substr(F,2)?(i="*/",F+=2):(i=null,0===P&&r('"*/"')),P--,null===i?i="":(i=null,F=l),null!==i?(a=s(),null!==a?i=[i,a]:(i=null,F=u)):(i=null,F=u);null!==n?("*/"===e.substr(F,2)?(i="*/",F+=2):(i=null,0===P&&r('"*/"')),null!==i?t=[t,n,i]:(t=null,F=o)):(t=null,F=o)}else t=null,F=o;return t}function v(){var t,n,i,a,o,u,c;if(o=F,"/*"===e.substr(F,2)?(t="/*",F+=2):(t=null,0===P&&r('"/*"')),null!==t){for(n=[],u=F,c=F,P++,"*/"===e.substr(F,2)?(i="*/",F+=2):(i=null,0===P&&r('"*/"')),null===i&&(i=l()),P--,null===i?i="":(i=null,F=c),null!==i?(a=s(),null!==a?i=[i,a]:(i=null,F=u)):(i=null,F=u);null!==i;)n.push(i),u=F,c=F,P++,"*/"===e.substr(F,2)?(i="*/",F+=2):(i=null,0===P&&r('"*/"')),null===i&&(i=l()),P--,null===i?i="":(i=null,F=c),null!==i?(a=s(),null!==a?i=[i,a]:(i=null,F=u)):(i=null,F=u);null!==n?("*/"===e.substr(F,2)?(i="*/",F+=2):(i=null,0===P&&r('"*/"')),null!==i?t=[t,n,i]:(t=null,F=o)):(t=null,F=o)}else t=null,F=o;return t}function g(){var t,n,i,a,o,u,c;if(o=F,"//"===e.substr(F,2)?(t="//",F+=2):(t=null,0===P&&r('"//"')),null!==t){for(n=[],u=F,c=F,P++,i=l(),P--,null===i?i="":(i=null,F=c),null!==i?(a=s(),null!==a?i=[i,a]:(i=null,F=u)):(i=null,F=u);null!==i;)n.push(i),u=F,c=F,P++,i=l(),P--,null===i?i="":(i=null,F=c),null!==i?(a=s(),null!==a?i=[i,a]:(i=null,F=u)):(i=null,F=u);null!==n?t=[t,n]:(t=null,F=o)}else t=null,F=o;return t}function b(){var t,e;for(t=[],e=u(),null===e&&(e=v(),null===e&&(e=g()));null!==e;)t.push(e),e=u(),null===e&&(e=v(),null===e&&(e=g()));return t}function y(){var t,e;for(t=[],e=u(),null===e&&(e=c(),null===e&&(e=p()));null!==e;)t.push(e),e=u(),null===e&&(e=c(),null===e&&(e=p()));return t}function _(){var t,e;return e=F,t=m(),null===t&&(t=w()),null!==t&&(t=function(t,e){return{type:"NumericLiteral",value:e}}(e,t)),null===t&&(F=e),t}function w(){var t,n,i;if(i=F,/^[0-9]/.test(e.charAt(F))?(n=e.charAt(F),F++):(n=null,0===P&&r("[0-9]")),null!==n)for(t=[];null!==n;)t.push(n),/^[0-9]/.test(e.charAt(F))?(n=e.charAt(F),F++):(n=null,0===P&&r("[0-9]"));else t=null;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(i,t)),null===t&&(F=i),t}function m(){var t,n,i,a,s;return a=F,s=F,t=w(),null!==t?(46===e.charCodeAt(F)?(n=".",F++):(n=null,0===P&&r('"."')),null!==n?(i=w(),null!==i?t=[t,n,i]:(t=null,F=s)):(t=null,F=s)):(t=null,F=s),null!==t&&(t=function(t,e){return parseFloat(e.join(""))}(a,t)),null===t&&(F=a),t}function A(){var t,n,i,a;if(a=F,/^[\-+]/.test(e.charAt(F))?(t=e.charAt(F),F++):(t=null,0===P&&r("[\\-+]")),t=null!==t?t:"",null!==t){if(/^[0-9]/.test(e.charAt(F))?(i=e.charAt(F),F++):(i=null,0===P&&r("[0-9]")),null!==i)for(n=[];null!==i;)n.push(i),/^[0-9]/.test(e.charAt(F))?(i=e.charAt(F),F++):(i=null,0===P&&r("[0-9]"));else n=null;null!==n?t=[t,n]:(t=null,F=a)}else t=null,F=a;return t}function E(){var t,e;return P++,e=F,t=x(),null!==t&&(t=function(t,e){return e}(e,t)),null===t&&(F=e),P--,0===P&&null===t&&r("identifier"),t}function x(){var t,e,n,i,a;if(P++,i=F,a=F,t=o(),null!==t){for(e=[],n=o();null!==n;)e.push(n),n=o();null!==e?t=[t,e]:(t=null,F=a)}else t=null,F=a;return null!==t&&(t=function(t,e,n){return e+n.join("")}(i,t[0],t[1])),null===t&&(F=i),P--,0===P&&null===t&&r("identifier"),t}function V(){var t,n,i,a,s,o,u;return o=F,t=E(),null!==t&&(t=function(t,e){return{type:"Variable",name:e}}(o,t)),null===t&&(F=o),null===t&&(t=_(),null===t&&(o=F,u=F,40===e.charCodeAt(F)?(t="(",F++):(t=null,0===P&&r('"("')),null!==t?(n=y(),null!==n?(i=z(),null!==i?(a=y(),null!==a?(41===e.charCodeAt(F)?(s=")",F++):(s=null,0===P&&r('")"')),null!==s?t=[t,n,i,a,s]:(t=null,F=u)):(t=null,F=u)):(t=null,F=u)):(t=null,F=u)):(t=null,F=u),null!==t&&(t=function(t,e){return e}(o,t[2])),null===t&&(F=o))),t}function C(){var t,e,n,r,i;return t=V(),null===t&&(r=F,i=F,t=S(),null!==t?(e=y(),null!==e?(n=C(),null!==n?t=[t,e,n]:(t=null,F=i)):(t=null,F=i)):(t=null,F=i),null!==t&&(t=function(t,e,n){return{type:"UnaryExpression",operator:e,expression:n}}(r,t[0],t[2])),null===t&&(F=r)),t}function S(){var t;return 43===e.charCodeAt(F)?(t="+",F++):(t=null,0===P&&r('"+"')),null===t&&(45===e.charCodeAt(F)?(t="-",F++):(t=null,0===P&&r('"-"')),null===t&&(33===e.charCodeAt(F)?(t="!",F++):(t=null,0===P&&r('"!"')))),t}function I(){var t,e,n,r,i,a,s,o,u;if(s=F,o=F,t=C(),null!==t){for(e=[],u=F,n=y(),null!==n?(r=O(),null!==r?(i=y(),null!==i?(a=C(),null!==a?n=[n,r,i,a]:(n=null,F=u)):(n=null,F=u)):(n=null,F=u)):(n=null,F=u);null!==n;)e.push(n),u=F,n=y(),null!==n?(r=O(),null!==r?(i=y(),null!==i?(a=C(),null!==a?n=[n,r,i,a]:(n=null,F=u)):(n=null,F=u)):(n=null,F=u)):(n=null,F=u);null!==e?t=[t,e]:(t=null,F=o)}else t=null,F=o;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"MultiplicativeExpression",operator:n[i][1],left:r,right:n[i][3]};return r}(s,t[0],t[1])),null===t&&(F=s),t}function O(){var t;return 42===e.charCodeAt(F)?(t="*",F++):(t=null,0===P&&r('"*"')),null===t&&(47===e.charCodeAt(F)?(t="/",F++):(t=null,0===P&&r('"/"'))),t}function j(){var t,e,n,r,i,a,s,o,u;if(s=F,o=F,t=I(),null!==t){for(e=[],u=F,n=y(),null!==n?(r=T(),null!==r?(i=y(),null!==i?(a=I(),null!==a?n=[n,r,i,a]:(n=null,F=u)):(n=null,F=u)):(n=null,F=u)):(n=null,F=u);null!==n;)e.push(n),u=F,n=y(),null!==n?(r=T(),null!==r?(i=y(),null!==i?(a=I(),null!==a?n=[n,r,i,a]:(n=null,F=u)):(n=null,F=u)):(n=null,F=u)):(n=null,F=u);null!==e?t=[t,e]:(t=null,F=o)}else t=null,F=o;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"AdditiveExpression",operator:n[i][1],left:r,right:n[i][3]};return r}(s,t[0],t[1])),null===t&&(F=s),t}function T(){var t;return 43===e.charCodeAt(F)?(t="+",F++):(t=null,0===P&&r('"+"')),null===t&&(45===e.charCodeAt(F)?(t="-",F++):(t=null,0===P&&r('"-"'))),t}function k(){var t,e,n,r,i,a,s,o,u;if(s=F,o=F,t=j(),null!==t){for(e=[],u=F,n=y(),null!==n?(r=R(),null!==r?(i=y(),null!==i?(a=j(),null!==a?n=[n,r,i,a]:(n=null,F=u)):(n=null,F=u)):(n=null,F=u)):(n=null,F=u);null!==n;)e.push(n),u=F,n=y(),null!==n?(r=R(),null!==r?(i=y(),null!==i?(a=j(),null!==a?n=[n,r,i,a]:(n=null,F=u)):(n=null,F=u)):(n=null,F=u)):(n=null,F=u);null!==e?t=[t,e]:(t=null,F=o)}else t=null,F=o;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"Inequality",operator:n[i][1],left:r,right:n[i][3]};return r}(s,t[0],t[1])),null===t&&(F=s),t}function R(){var t;return"<="===e.substr(F,2)?(t="<=",F+=2):(t=null,0===P&&r('"<="')),null===t&&(">="===e.substr(F,2)?(t=">=",F+=2):(t=null,0===P&&r('">="')),null===t&&(60===e.charCodeAt(F)?(t="<",F++):(t=null,0===P&&r('"<"')),null===t&&(62===e.charCodeAt(F)?(t=">",F++):(t=null,0===P&&r('">"'))))),t}function z(){var t,n,i,a,s,o,u,l,c;if(u=F,l=F,t=k(),null!==t){for(n=[],c=F,i=y(),null!==i?("=="===e.substr(F,2)?(a="==",F+=2):(a=null,0===P&&r('"=="')),null!==a?(s=y(),null!==s?(o=k(),null!==o?i=[i,a,s,o]:(i=null,F=c)):(i=null,F=c)):(i=null,F=c)):(i=null,F=c);null!==i;)n.push(i),c=F,i=y(),null!==i?("=="===e.substr(F,2)?(a="==",F+=2):(a=null,0===P&&r('"=="')),null!==a?(s=y(),null!==s?(o=k(),null!==o?i=[i,a,s,o]:(i=null,F=c)):(i=null,F=c)):(i=null,F=c)):(i=null,F=c);null!==n?t=[t,n]:(t=null,F=l)}else t=null,F=l;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"Equality",operator:n[i][1],left:r,right:n[i][3]};return r}(u,t[0],t[1])),null===t&&(F=u),t}function H(t){t.sort();for(var e=null,n=[],r=0;t.length>r;r++)t[r]!==e&&(n.push(t[r]),e=t[r]);return n}function M(){for(var t=1,n=1,r=!1,i=0;Math.max(F,q)>i;i++){var a=e.charAt(i);"\n"===a?(r||t++,n=1,r=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t++,n=1,r=!0):(n++,r=!1)}return{line:t,column:n}}var N={start:i,Statement:a,SourceCharacter:s,IdentifierStart:o,WhiteSpace:u,LineTerminator:l,LineTerminatorSequence:c,EOS:f,EOF:h,Comment:p,MultiLineComment:d,MultiLineCommentNoLineTerminator:v,SingleLineComment:g,_:b,__:y,Literal:_,Integer:w,Real:m,SignedInteger:A,Identifier:E,IdentifierName:x,PrimaryExpression:V,UnaryExpression:C,UnaryOperator:S,MultiplicativeExpression:I,MultiplicativeOperator:O,AdditiveExpression:j,AdditiveOperator:T,InequalityExpression:k,InequalityOperator:R,LinearExpression:z};if(void 0!==n){if(void 0===N[n])throw Error("Invalid rule name: "+t(n)+".")}else n="start";var F=0,P=0,q=0,L=[],D=N[n]();if(null===D||F!==e.length){var G=Math.max(F,q),W=e.length>G?e.charAt(G):null,Z=M();throw new this.SyntaxError(H(L),W,G,Z.line,Z.column)}return D},toSource:function(){return this._source}};return e.SyntaxError=function(e,n,r,i,a){function s(e,n){var r,i;switch(e.length){case 0:r="end of input";break;case 1:r=e[0];break;default:r=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return i=n?t(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=e,this.found=n,this.message=s(e,n),this.offset=r,this.line=i,this.column=a},e.SyntaxError.prototype=Error.prototype,e}()}).call(t.compiled=t)}).call(e,n(13)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(15),o=r(s),u=n(1),l=r(u),c=function(){function t(e){i(this,t),this._name=e.name,this._type=e.type,this._solver=e.solver,this._attr={},e.name||(this._attr[l["default"].LEFT]=new o["default"].Variable,this._solver.addConstraint(new o["default"].StayConstraint(this._attr[l["default"].LEFT],o["default"].Strength.required)),this._attr[l["default"].TOP]=new o["default"].Variable,this._solver.addConstraint(new o["default"].StayConstraint(this._attr[l["default"].TOP],o["default"].Strength.required)),this._attr[l["default"].ZINDEX]=new o["default"].Variable,this._solver.addConstraint(new o["default"].StayConstraint(this._attr[l["default"].ZINDEX],o["default"].Strength.required)))}return a(t,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"getValue",value:function(t){return this._attr[t]?this._attr[t].value():void 0}},{key:"_getAttr",value:function(t){if(this._attr[t])return this._attr[t];switch(this._attr[t]=new o["default"].Variable,t){case l["default"].RIGHT:this._getAttr(l["default"].LEFT),this._getAttr(l["default"].WIDTH),this._solver.addConstraint(new o["default"].Equation(this._attr[t],o["default"].plus(this._attr[l["default"].LEFT],this._attr[l["default"].WIDTH])));break;case l["default"].BOTTOM:this._getAttr(l["default"].TOP),this._getAttr(l["default"].HEIGHT),this._solver.addConstraint(new o["default"].Equation(this._attr[t],o["default"].plus(this._attr[l["default"].TOP],this._attr[l["default"].HEIGHT])));break;case l["default"].CENTERX:this._getAttr(l["default"].LEFT),this._getAttr(l["default"].WIDTH),this._solver.addConstraint(new o["default"].Equation(this._attr[t],o["default"].plus(this._attr[l["default"].LEFT],o["default"].divide(this._attr[l["default"].WIDTH],2))));break;case l["default"].CENTERY:this._getAttr(l["default"].TOP),this._getAttr(l["default"].HEIGHT),this._solver.addConstraint(new o["default"].Equation(this._attr[t],o["default"].plus(this._attr[l["default"].TOP],o["default"].divide(this._attr[l["default"].HEIGHT],2))))}return this._attr[t]}},{key:"_getAttrValue",value:function(t){return this._getAttr(t).value}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttrValue(l["default"].LEFT)}},{key:"right",get:function(){return this._getAttrValue(l["default"].RIGHT)}},{key:"width",get:function(){return this._getAttrValue(l["default"].WIDTH)}},{key:"height",get:function(){return this._getAttrValue(l["default"].HEIGHT)}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(t){if(void 0!==t&&t!==this._intrinsicWidth){var e=this._getAttr(l["default"].WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(e,new o["default"].Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(t){if(void 0!==t&&t!==this._intrinsicHeight){var e=this._getAttr(l["default"].HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(e,new o["default"].Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttrValue(l["default"].TOP)}},{key:"bottom",get:function(){return this._getAttrValue(l["default"].BOTTOM)}},{key:"centerX",get:function(){return this._getAttrValue(l["default"].CENTERX)}},{key:"centerY",get:function(){return this._getAttrValue(l["default"].CENTERY)}},{key:"zIndex",get:function(){return this._getAttrValue(l["default"].ZINDEX)}},{key:"type",get:function(){return this._type}}]),t}();e["default"]=c}])});
//# sourceMappingURL=autolayout.cassowaryjs.min.js.map